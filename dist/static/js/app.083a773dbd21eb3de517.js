webpackJsonp([1],{"/esc":function(t,e){},"26i2":function(t,e){},"5SlF":function(t,e){},"6LPJ":function(t,e){},"9CJP":function(t,e){},DLrv:function(t,e){},Il7S:function(t,e){},NHnr:function(t,e,s){"use strict";function a(t){let e=1;return"asc"===t.order&&(e=-1),function(s,a){return(s[t.by]<a[t.by]?-1:s[t.by]>a[t.by]?1:0)*e}}Object.defineProperty(e,"__esModule",{value:!0});var r={};s.d(r,"setUser",function(){return h}),s.d(r,"LOG_USER_OUT",function(){return f}),s.d(r,"clearList",function(){return _}),s.d(r,"SET_STUDENTS",function(){return g}),s.d(r,"SET_PARENTS",function(){return C}),s.d(r,"SET_PROFESSORS",function(){return b}),s.d(r,"SET_CLASSES",function(){return y});var i={};s.d(i,"logUserOut",function(){return S}),s.d(i,"fetchStudents",function(){return P}),s.d(i,"fetchParents",function(){return k}),s.d(i,"fetchProfessors",function(){return I}),s.d(i,"fetchClasses",function(){return T});var n=s("/5sW"),l=s("mtWM"),o=s.n(l),c=s("Rf8U"),d=s.n(c),u={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view")},staticRenderFns:[]},p=s("VU/8")({name:"app"},u,!1,function(t){s("/esc")},null,null).exports,m=s("/ocq"),v=s("NYxO");const h=(t,e)=>{t.user=Object.assign({},e)},f=t=>{t.user={}},_=(t,e)=>{t[e]=[]},g=(t,e)=>{t.students=e.slice()},C=(t,e)=>{t.parents=e.slice()},b=(t,e)=>{t.professors=e.slice()},y=(t,e)=>{t.classes=e.slice()},w=t=>{console.log(t)},x=()=>{ie.push({name:"errorDisplay",params:{which:"serverError"}})},E="https://stud-db-api.herokuapp.com",S=t=>{o()({url:`${E}/user/logout`,method:"post",headers:{"Content-Type":"application/json"},withCredentials:!0}).then(t.commit("LOG_USER_OUT"))},P=(t,e)=>{let s;s=void 0!==e&&"first"in e?`${E}/api/student/all?first=${e.first}`:`${E}/api/student/all`,o.a.get(s).then(e=>{e.data.success?t.commit("SET_STUDENTS",e.data.students):w(e.data.message)}).catch(t=>{apiError()})},k=(t,e)=>{let s;s=void 0!==e&&"first"in e?`${E}/api/parent/all?first=${e.first}`:`${E}/api/parent/all`,o.a.get(s).then(e=>{e.data.success?t.commit("SET_PARENTS",e.data.parents):w(e.data.message)}).catch(t=>{apiError()})},I=(t,e)=>{let s;s=void 0!==e&&"first"in e?`${E}/api/professor/all?first=${e.first}`:`${E}/api/professor/all`,o.a.get(s).then(e=>{e.data.success?t.commit("SET_PROFESSORS",e.data.professors):w(e.data.message)}).catch(t=>{apiError()})},T=(t,e)=>{let s;s=void 0!==e&&"first"in e?`${E}/api/class/all?first=${e.first}`:`${E}/api/class/all`,o.a.get(s).then(e=>{e.data.success?t.commit("SET_CLASSES",e.data.classes):w(e.data.message)}).catch(t=>{apiError()})};n.a.use(v.a);var N=new v.a.Store({state:{user:{},students:[],classes:[],parents:[],professors:[]},getters:{user:t=>t.user,students:t=>t.students,parents:t=>t.parents,professors:t=>t.professors,classes:t=>t.classes},mutations:r,actions:i}),D={computed:{user(){return this.$store.state.user},route(){return this.$route.path},whatToAdd(){return-1!=this.route.indexOf("classes")?"class":this.route.slice("/list/".length,this.route.length-1)}},methods:{logout(){this.$store.dispatch("logUserOut"),this.$router.push({name:"LoginRoute"})}}},R={render:function(){var t=this.$createElement,e=this._self._c||t;return e("nav",{staticClass:"navbar navbar-expand-md navbar-dark fixed-top bg-moj"},[this._m(0),this._v(" "),this._m(1),this._v(" "),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarCollapse"}},[e("ul",{staticClass:"navbar-nav mr-auto"},[e("li",{staticClass:"nav-item",attrs:{id:"nav-students"}},[e("router-link",{staticClass:"nav-link",class:{active:"/list/students"===this.route},attrs:{tag:"a",to:{name:"studentsList"}}},[this._v("Students")])],1),this._v(" "),e("li",{staticClass:"nav-item",attrs:{id:"nav-classes"}},[e("router-link",{staticClass:"nav-link",class:{active:"/list/classes"===this.route},attrs:{tag:"a",to:{name:"classesList"}}},[this._v("Classes")])],1),this._v(" "),e("li",{staticClass:"nav-item",attrs:{id:"nav-professors"}},[e("router-link",{staticClass:"nav-link",class:{active:"/list/professors"===this.route},attrs:{tag:"a",to:{name:"professorsList"}}},[this._v("Professors")])],1),this._v(" "),e("li",{staticClass:"nav-item",attrs:{id:"nav-parents"}},[e("router-link",{staticClass:"nav-link",class:{active:"/list/parents"===this.route},attrs:{tag:"a",to:{name:"parentsList"}}},[this._v("Parents")])],1),this._v(" "),-1!=this.route.indexOf("/list")&&this.user.privilege>=3?e("li",{staticClass:"nav-item",attrs:{id:"nav-parents"}},[e("router-link",{staticClass:"add-menu-button btn btn-outline-success",attrs:{tag:"a",to:{name:this.whatToAdd+"Add"}}},[this._v("Add "+this._s(this.whatToAdd))])],1):this._e()]),this._v(" "),e("ul",{staticClass:"navbar-nav navbar-right"},[e("li",{staticClass:"nav-item dropdown"},[e("div",{staticClass:"user-container nav-link",attrs:{"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("p",{staticClass:"user-name"},[this._v(this._s(this.user.username))]),this._v(" "),e("i",{staticClass:"fa fa-user user-icon",attrs:{"aria-hidden":"true"}})]),this._v(" "),e("div",{staticClass:"dropdown-menu drp",attrs:{"aria-labelledby":"navbarDropdownMenuLink"}},[this.user.privilege>=3?e("div",[e("a",{staticClass:"dropdown-item",staticStyle:{color:"#6f6f6f"},attrs:{href:"%% url_for('register') %%"}},[this._v("Register")]),this._v(" "),e("div",{staticClass:"dropdown-divider"})]):this._e(),this._v(" "),e("a",{staticClass:"logout",on:{click:this.logout}},[this._m(2)])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[e("img",{attrs:{src:"/static/images/logo.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dropdown-item logout-con"},[e("i",{staticClass:"fa fa-sign-out",attrs:{"aria-hidden":"true"}}),this._v("\n              Logout\n            ")])}]},A={components:{appNavbar:s("VU/8")(D,R,!1,function(t){s("r4Ti")},"data-v-4cc24852",null).exports}},M={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("app-navbar"),this._v(" "),e("router-view",{staticClass:"matop"})],1)},staticRenderFns:[]},j=s("VU/8")(A,M,!1,function(t){s("mpNz")},"data-v-311b6d64",null).exports,L={filterById:t=>e=>""===t||e.id==t,filterByProperty:(t,e)=>s=>""===t||0===s[e].toString().toUpperCase().indexOf(t.toUpperCase()),containsByProperty:(t,e)=>s=>""===t||s[e].toString().toUpperCase().indexOf(t.toUpperCase())>-1},O=function(t,e){const s=Math.floor(Math.random()*(e-t+1)+t);let a="";for(let t=0;t<s;t++)a+=" ";return a},V={methods:{changeSorter(t){this.sorter.by===t?"asc"===this.sorter.order?this.sorter.order="desc":this.sorter.order="asc":(this.sorter.by=t,this.sorter.order="desc")},whichIcon(t){return this.sorter.by===t?`/static/images/icons/${this.sorter.order}.png`:"/static/images/icons/no.png"}}},F={props:{min:{type:Number,required:!0},max:{type:Number,required:!0},loading:{type:Boolean,required:!1,default:!1}},computed:{theInsideString(){const t=Math.floor(Math.random()*(this.max-this.min+1)+this.min);let e="";for(let s=0;s<t;s++)e+=" ";return e}}},U={render:function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"placeholder",class:{"placeholder-animation":this.loading}},[this._v(this._s(this.theInsideString))])},staticRenderFns:[]},B=s("VU/8")(F,U,!1,function(t){s("26i2")},"data-v-39271580",null).exports;s("sFzF");var z={mixins:[V],components:{Placeholder:B},data:()=>({filters:{id:"",name:"",surname:""},sorter:{by:"id",order:"desc"},placeholderAnimation:!0}),methods:{randomPlaceholder:O,displayStudent(t){this.$router.push({name:"studentView",params:{id:t}})}},computed:{allStudents(){return this.$store.getters.students},students(){return this.allStudents===[]?[]:this.allStudents.filter(L.filterById(this.filters.id)).filter(L.filterByProperty(this.filters.name,"name")).filter(L.filterByProperty(this.filters.surname,"surname")).sort(a(this.sorter))}},updated(){$(document).ready(function(){$(".sticky-header").floatThead({scrollingTop:60})})},destroyed(){this.$store.commit("clearList","students")},beforeRouteEnter:(t,e,s)=>{s(t=>{t.$store.dispatch("fetchStudents",{first:21}),t.$store.dispatch("fetchStudents")})}},W={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("table",{staticClass:"table sticky-header",attrs:{id:"tabulka"}},[s("thead",{staticClass:"table-header"},[s("tr",[s("th",{staticClass:"student-table-id",attrs:{"data-tsorter":"numeric"}},[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.id,expression:"filters.id"}],staticClass:"table-header",attrs:{id:"inputID",type:"text",placeholder:"#"},domProps:{value:t.filters.id},on:{input:function(e){e.target.composing||t.$set(t.filters,"id",e.target.value)}}}),t._v(" "),s("img",{staticClass:"sipka sorter",attrs:{src:t.whichIcon("id"),alt:"",srcset:""},on:{click:function(e){t.changeSorter("id")}}})])]),t._v(" "),s("th",[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.name,expression:"filters.name"}],staticClass:"table-header",attrs:{id:"inputName",type:"text",placeholder:"Name"},domProps:{value:t.filters.name},on:{input:function(e){e.target.composing||t.$set(t.filters,"name",e.target.value)}}}),t._v(" "),s("img",{staticClass:"sipka sorter",attrs:{src:t.whichIcon("name"),alt:"",srcset:""},on:{click:function(e){t.changeSorter("name")}}})])]),t._v(" "),s("th",[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.surname,expression:"filters.surname"}],staticClass:"table-header",attrs:{id:"inputSurname",type:"text",placeholder:"Surname"},domProps:{value:t.filters.surname},on:{input:function(e){e.target.composing||t.$set(t.filters,"surname",e.target.value)}}}),t._v(" "),s("img",{staticClass:"sipka sorter",attrs:{src:t.whichIcon("surname"),alt:"",srcset:""},on:{click:function(e){t.changeSorter("surname")}}})])]),t._v(" "),t._m(0),t._v(" "),t._m(1)])]),t._v(" "),s("tbody",[t._l(20,function(e){return 0===t.allStudents.length?s("tr",{key:e,staticClass:"display-row"},[s("td",{staticClass:"student-table-id"},[s("placeholder",{attrs:{min:2,max:5,loading:t.placeholderAnimation}})],1),t._v(" "),s("td",[s("placeholder",{attrs:{min:9,max:12,loading:t.placeholderAnimation}})],1),t._v(" "),s("td",[s("placeholder",{attrs:{min:9,max:12,loading:t.placeholderAnimation}})],1),t._v(" "),s("td",{staticClass:"student-table-email"},[s("placeholder",{attrs:{min:22,max:26,loading:t.placeholderAnimation}})],1),t._v(" "),s("td",{staticClass:"student-table-phone"},[s("placeholder",{attrs:{min:18,max:20,loading:t.placeholderAnimation}})],1)]):t._e()}),t._v(" "),t._l(t.students,function(e){return 0!==t.allStudents.length?s("tr",{key:e.id,staticClass:"display-row",on:{click:function(s){t.displayStudent(e.id)}}},[s("td",{staticClass:"student-table-id"},[t._v(t._s(e.id))]),t._v(" "),s("td",[t._v(t._s(e.name))]),t._v(" "),s("td",[t._v(t._s(e.surname))]),t._v(" "),s("td",{staticClass:"student-table-email"},[t._v(t._s(e.email))]),t._v(" "),s("td",{staticClass:"student-table-phone"},[t._v(t._s(e.phone))])]):t._e()})],2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("th",{staticClass:"student-table-email"},[e("div",[e("input",{staticClass:"table-header dis",attrs:{type:"text",placeholder:"Email",disabled:""}}),this._v(" "),e("div",{staticClass:"placeholderDiv"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("th",{staticClass:"student-table-phone"},[e("div",[e("input",{staticClass:"table-header dis",attrs:{type:"text",placeholder:"Phone",disabled:""}}),this._v(" "),e("div",{})])])}]},q=s("VU/8")(z,W,!1,function(t){s("kBDf")},"data-v-2d7f7c9e",null).exports;s("sFzF");var J={mixins:[V],components:{Placeholder:B},data:()=>({filters:{id:"",name:"",start:""},sorter:{by:"id",order:"desc"},placeholderAnimation:!0}),methods:{randomPlaceholder:O,displayClass(t){this.$router.push({name:"classView",params:{id:t}})}},computed:{allClasses(){return this.$store.getters.classes},classes(){return this.allClasses===[]?[]:this.allClasses.filter(L.filterById(this.filters.id)).filter(L.containsByProperty(this.filters.name,"name")).filter(L.containsByProperty(this.filters.start,"start")).sort(a(this.sorter))}},destroyed(){this.$store.commit("clearList","classes")},updated(){$(document).ready(function(){$(".sticky-header").floatThead({scrollingTop:60})})},beforeRouteEnter:(t,e,s)=>{s(t=>{t.$store.dispatch("fetchClasses",{first:12}),t.$store.dispatch("fetchClasses")})}},H={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("table",{staticClass:"table sticky-header",attrs:{id:"tabulka"}},[s("thead",{staticClass:"table-header"},[s("tr",[s("th",{staticClass:"student-table-id",attrs:{"data-tsorter":"numeric"}},[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.id,expression:"filters.id"}],staticClass:"table-header",attrs:{id:"inputID",type:"text",placeholder:"#"},domProps:{value:t.filters.id},on:{input:function(e){e.target.composing||t.$set(t.filters,"id",e.target.value)}}}),t._v(" "),s("img",{staticClass:"sipka sorter",attrs:{src:t.whichIcon("id"),alt:"",srcset:""},on:{click:function(e){t.changeSorter("id")}}})])]),t._v(" "),s("th",[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.name,expression:"filters.name"}],staticClass:"table-header",attrs:{id:"inputName",type:"text",placeholder:"Name"},domProps:{value:t.filters.name},on:{input:function(e){e.target.composing||t.$set(t.filters,"name",e.target.value)}}}),t._v(" "),s("img",{staticClass:"sipka sorter",attrs:{src:t.whichIcon("name"),alt:"",srcset:""},on:{click:function(e){t.changeSorter("name")}}})])]),t._v(" "),s("th",[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.start,expression:"filters.start"}],staticClass:"table-header",attrs:{id:"inputStart",type:"text",placeholder:"Start"},domProps:{value:t.filters.start},on:{input:function(e){e.target.composing||t.$set(t.filters,"start",e.target.value)}}}),t._v(" "),s("img",{staticClass:"sipka sorter",attrs:{src:t.whichIcon("start"),alt:"",srcset:""},on:{click:function(e){t.changeSorter("start")}}})])]),t._v(" "),t._m(0)])]),t._v(" "),s("tbody",[t._l(20,function(e){return 0===t.allClasses.lenght?s("tr",{key:e,staticClass:"display-row"},[s("td",[s("placeholder",{attrs:{min:2,max:5,loading:t.placeholderAnimation}})],1),t._v(" "),s("td",[s("placeholder",{attrs:{min:8,max:12,loading:t.placeholderAnimation}})],1),t._v(" "),s("td",[s("placeholder",{attrs:{min:7,max:7,loading:t.placeholderAnimation}})],1),t._v(" "),s("td",[s("placeholder",{attrs:{min:4,max:6,loading:t.placeholderAnimation}})],1)]):t._e()}),t._v(" "),t._l(t.classes,function(e){return 0!==t.allClasses.lenght?s("tr",{key:e.id,staticClass:"display-row",on:{click:function(s){t.displayClass(e.id)}}},[s("td",[t._v(t._s(e.id))]),t._v(" "),s("td",["altname"in e?s("span",{staticClass:"class-altname"},[t._v(t._s("altname"in e?e.altname:""))]):t._e(),t._v(" "),s("span",{staticClass:"class-name"},[t._v(t._s(e.name))])]),t._v(" "),s("td",[t._v(t._s(e.start))]),t._v(" "),s("td",[t._v(t._s(e.room))])]):t._e()})],2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("th",[e("div",[e("input",{staticClass:"table-header dis",attrs:{type:"text",placeholder:"Class Room",disabled:""}}),this._v(" "),e("div",{})])])}]},Y=s("VU/8")(J,H,!1,function(t){s("5SlF")},"data-v-5f3c950c",null).exports;s("sFzF");var Q={mixins:[V],components:{Placeholder:B},data:()=>({filters:{id:"",name:"",surname:""},sorter:{by:"id",order:"desc"},placeholderAnimation:!0}),methods:{displayParent(t){this.$router.push({name:"parentView",params:{id:t}})},randomPlaceholder:O},computed:{allParents(){return this.$store.getters.parents},parents(){return this.allParents===[]?[]:this.allParents.filter(L.filterById(this.filters.id)).filter(L.filterByProperty(this.filters.name,"name")).filter(L.filterByProperty(this.filters.surname,"surname")).sort(a(this.sorter))}},updated(){$(document).ready(function(){$(".sticky-header").floatThead({scrollingTop:60})})},destroyed(){this.$store.commit("clearList","parents")},beforeRouteEnter:(t,e,s)=>{s(t=>{t.$store.dispatch("fetchParents",{first:21}),t.$store.dispatch("fetchParents")})}},X={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("table",{staticClass:"table sticky-header",attrs:{id:"tabulka"}},[s("thead",{staticClass:"table-header"},[s("tr",[s("th",{staticClass:"student-table-id",attrs:{"data-tsorter":"numeric"}},[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.id,expression:"filters.id"}],staticClass:"table-header",attrs:{id:"inputID",type:"text",placeholder:"#"},domProps:{value:t.filters.id},on:{input:function(e){e.target.composing||t.$set(t.filters,"id",e.target.value)}}}),t._v(" "),s("img",{staticClass:"sipka sorter",attrs:{src:t.whichIcon("id"),alt:"",srcset:""},on:{click:function(e){t.changeSorter("id")}}})])]),t._v(" "),s("th",[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.name,expression:"filters.name"}],staticClass:"table-header",attrs:{id:"inputName",type:"text",placeholder:"Name"},domProps:{value:t.filters.name},on:{input:function(e){e.target.composing||t.$set(t.filters,"name",e.target.value)}}}),t._v(" "),s("img",{staticClass:"sipka sorter",attrs:{src:t.whichIcon("name"),alt:"",srcset:""},on:{click:function(e){t.changeSorter("name")}}})])]),t._v(" "),s("th",[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.surname,expression:"filters.surname"}],staticClass:"table-header",attrs:{id:"inputSurname",type:"text",placeholder:"Surname"},domProps:{value:t.filters.surname},on:{input:function(e){e.target.composing||t.$set(t.filters,"surname",e.target.value)}}}),t._v(" "),s("img",{staticClass:"sipka sorter",attrs:{src:t.whichIcon("surname"),alt:"",srcset:""},on:{click:function(e){t.changeSorter("surname")}}})])]),t._v(" "),t._m(0),t._v(" "),t._m(1)])]),t._v(" "),s("tbody",[t._l(20,function(e){return 0===t.allParents.length?s("tr",{key:e,staticClass:"display-row"},[s("td",{staticClass:"student-table-id"},[s("placeholder",{attrs:{min:2,max:5,loading:t.placeholderAnimation}})],1),t._v(" "),s("td",[s("placeholder",{attrs:{min:9,max:12,loading:t.placeholderAnimation}})],1),t._v(" "),s("td",[s("placeholder",{attrs:{min:9,max:12,loading:t.placeholderAnimation}})],1),t._v(" "),s("td",{staticClass:"student-table-email"},[s("placeholder",{attrs:{min:22,max:26,loading:t.placeholderAnimation}})],1),t._v(" "),s("td",{staticClass:"student-table-phone"},[s("placeholder",{attrs:{min:18,max:20,loading:t.placeholderAnimation}})],1)]):t._e()}),t._v(" "),t._l(t.parents,function(e){return 0!==t.allParents.length?s("tr",{key:e.id,staticClass:"display-row",on:{click:function(s){t.displayParent(e.id)}}},[s("td",{staticClass:"student-table-id"},[t._v(t._s(e.id))]),t._v(" "),s("td",[t._v(t._s(e.name))]),t._v(" "),s("td",[t._v(t._s(e.surname))]),t._v(" "),s("td",{staticClass:"student-table-email"},[t._v(t._s(e.email))]),t._v(" "),s("td",{staticClass:"student-table-phone"},[t._v(t._s(e.phone))])]):t._e()})],2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("th",{staticClass:"student-table-email"},[e("div",[e("input",{staticClass:"table-header dis",attrs:{type:"text",placeholder:"Email",disabled:""}}),this._v(" "),e("div",{staticClass:"placeholderDiv"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("th",{staticClass:"student-table-phone"},[e("div",[e("input",{staticClass:"table-header dis",attrs:{type:"text",placeholder:"Phone",disabled:""}}),this._v(" "),e("div",{})])])}]},G=s("VU/8")(Q,X,!1,function(t){s("s43u")},"data-v-6e198977",null).exports;s("sFzF");var K={mixins:[V],components:{Placeholder:B},data:()=>({filters:{id:"",name:"",surname:"",title:""},sorter:{by:"id",order:"desc"},placeholderAnimation:!0}),methods:{displayProfessor(t){this.$router.push({name:"professorView",params:{id:t}})},randomPlaceholder:O},computed:{allProfessors(){return this.$store.getters.professors},professors(){return this.allProfessors===[]?[]:this.allProfessors.filter(L.filterById(this.filters.id)).filter(L.filterByProperty(this.filters.title,"title")).filter(L.filterByProperty(this.filters.name,"name")).filter(L.filterByProperty(this.filters.surname,"surname")).sort(a(this.sorter))}},updated(){$(document).ready(function(){$(".sticky-header").floatThead({scrollingTop:60})})},destroyed(){this.$store.commit("clearList","professors")},beforeRouteEnter:(t,e,s)=>{s(t=>{t.$store.dispatch("fetchProfessors",{first:12}),t.$store.dispatch("fetchProfessors")})}},Z={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("table",{staticClass:"table sticky-header",attrs:{id:"tabulka"}},[s("thead",{staticClass:"table-header"},[s("tr",[s("th",{staticClass:"student-table-id",attrs:{"data-tsorter":"numeric"}},[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.id,expression:"filters.id"}],staticClass:"table-header",attrs:{id:"inputID",type:"text",placeholder:"#"},domProps:{value:t.filters.id},on:{input:function(e){e.target.composing||t.$set(t.filters,"id",e.target.value)}}}),t._v(" "),s("img",{staticClass:"sipka sorter",attrs:{src:t.whichIcon("id"),alt:"",srcset:""},on:{click:function(e){t.changeSorter("id")}}})])]),t._v(" "),s("th",[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.title,expression:"filters.title"}],staticClass:"table-header",attrs:{id:"inputTitle",type:"text",placeholder:"Title"},domProps:{value:t.filters.title},on:{input:function(e){e.target.composing||t.$set(t.filters,"title",e.target.value)}}}),t._v(" "),s("img",{staticClass:"sipka sorter",attrs:{src:t.whichIcon("title"),alt:"",srcset:""},on:{click:function(e){t.changeSorter("title")}}})])]),t._v(" "),s("th",[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.name,expression:"filters.name"}],staticClass:"table-header",attrs:{id:"inputName",type:"text",placeholder:"Name"},domProps:{value:t.filters.name},on:{input:function(e){e.target.composing||t.$set(t.filters,"name",e.target.value)}}}),t._v(" "),s("img",{staticClass:"sipka sorter",attrs:{src:t.whichIcon("name"),alt:"",srcset:""},on:{click:function(e){t.changeSorter("name")}}})])]),t._v(" "),s("th",[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.surname,expression:"filters.surname"}],staticClass:"table-header",attrs:{id:"inputSurname",type:"text",placeholder:"Surname"},domProps:{value:t.filters.surname},on:{input:function(e){e.target.composing||t.$set(t.filters,"surname",e.target.value)}}}),t._v(" "),s("img",{staticClass:"sipka sorter",attrs:{src:t.whichIcon("surname"),alt:"",srcset:""},on:{click:function(e){t.changeSorter("surname")}}})])]),t._v(" "),t._m(0),t._v(" "),t._m(1)])]),t._v(" "),s("tbody",[t._l(20,function(e){return 0===t.allProfessors.length?s("tr",{key:e,staticClass:"display-row"},[s("td",{staticClass:"student-table-id"},[s("placeholder",{attrs:{min:2,max:5,loading:t.placeholderAnimation}})],1),t._v(" "),s("td",[s("placeholder",{attrs:{min:6,max:9,loading:t.placeholderAnimation}})],1),t._v(" "),s("td",[s("placeholder",{attrs:{min:9,max:12,loading:t.placeholderAnimation}})],1),t._v(" "),s("td",[s("placeholder",{attrs:{min:9,max:12,loading:t.placeholderAnimation}})],1),t._v(" "),s("td",{staticClass:"student-table-email"},[s("placeholder",{attrs:{min:22,max:26,loading:t.placeholderAnimation}})],1),t._v(" "),s("td",{staticClass:"student-table-phone"},[s("placeholder",{attrs:{min:18,max:20,loading:t.placeholderAnimation}})],1)]):t._e()}),t._v(" "),t._l(t.professors,function(e){return 0!==t.allProfessors.length?s("tr",{key:e.id,staticClass:"display-row",on:{click:function(s){t.displayProfessor(e.id)}}},[s("td",{staticClass:"student-table-id"},[t._v(t._s(e.id))]),t._v(" "),s("td",[t._v(t._s(e.title))]),t._v(" "),s("td",[t._v(t._s(e.name))]),t._v(" "),s("td",[t._v(t._s(e.surname))]),t._v(" "),s("td",{staticClass:"student-table-email"},[t._v(t._s(e.email))]),t._v(" "),s("td",{staticClass:"student-table-phone"},[t._v(t._s(e.phone))])]):t._e()})],2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("th",{staticClass:"student-table-email"},[e("div",[e("input",{staticClass:"table-header dis",attrs:{type:"text",placeholder:"Email",disabled:""}}),this._v(" "),e("div",{staticClass:"placeholderDiv"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("th",{staticClass:"student-table-phone"},[e("div",[e("input",{staticClass:"table-header dis",attrs:{type:"text",placeholder:"Phone",disabled:""}}),this._v(" "),e("div",{})])])}]},tt=[{name:"studentsList",path:"list/students",component:q,meta:{title:"Students"}},{name:"classesList",path:"list/classes",component:Y,meta:{title:"Classes"}},{name:"parentsList",path:"list/parents",component:G,meta:{title:"Parents"}},{name:"professorsList",path:"list/professors",component:s("VU/8")(K,Z,!1,function(t){s("Wkgh")},"data-v-3d59c29c",null).exports,meta:{title:"Professors"}}],et={methods:{isMale(t){if("surname"in this[t]&&void 0!==this[t].surname){const e=this[t].surname.slice(-3);return!("ova"===e||"ová"===e)}return!1}}};const st=async(t,e,s)=>{try{return(await o()({method:"delete",url:`${E}/api/${t}`,data:{id:e},headers:{"Content-Type":"application/json","X-API-KEY":`${s}`}})).data}catch(t){return!1}},at=async(t,e)=>{try{return(await o.a.get(`${E}/api/${t}`,{params:{id:e}})).data}catch(t){return!1}},rt=async(t,e,s)=>o()({url:`${E}/api/${t}`,method:"put",data:e,headers:{"X-API-KEY":`${s}`,"Content-Type":"application/json"}}),it=async(t,e,s)=>o()({url:`${E}/api/${t}`,method:"post",data:e,headers:{"X-API-KEY":`${s}`,"Content-Type":"application/json"}}),nt={methods:{setPermanentAlert(t){document.title="Error",this.alertMessage=t}}},lt={methods:{setTimoutError(t){this.alertMessage=t,setTimeout(()=>{this.alertMessage=""},5e3)}}};var ot={mixins:[et,nt],components:{Placeholder:B},data:()=>({student:{class:{}},alertMessage:""}),watch:{"$route.params.id":function(t){this.student={class:{}},this.fetchStudent(t)}},methods:{editStudent(){this.$router.push({name:"studentEdit",params:{id:this.student.id}})},setStudent(t){t.success?(this.student=t.student,this.alertMessage="",document.title=`${t.student.name} ${t.student.surname}`):this.setPermanentAlert(t.message)},async fetchStudent(t){const e=await at("student",t);e?this.setStudent(e):x()}},computed:{user(){return this.$store.getters.user},isStudentEmpty(){return Object.keys(this.student).length<=1},isError(){return this.isStudentEmpty&&this.alertMessage.length>0}},beforeRouteEnter:async(t,e,s)=>{const a=await at("student",t.params.id);a?(a.success&&(document.title=`${a.student.name} ${a.student.surname}`),s(t=>{t.setStudent(a)})):x()}},ct={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container vs-main-con"},[t.isError?s("div",{staticClass:"alert alert-danger"},[t._v(t._s(t.alertMessage))]):t._e(),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"row"},[!t.isStudentEmpty||t.alertMessage.length>0?s("div",{staticClass:"col prof-image-con"},[t.isMale("student")||void 0===t.student.surname?s("img",{attrs:{src:"/static/images/placeholder_male.jpg",alt:""}}):s("img",{attrs:{src:"/static/images/placeholder_female.jpg",alt:""}})]):t._e(),t._v(" "),s("div",{staticClass:"col vs-text-con"},[s("div",[s("table",[s("tr",[t._m(1),t._v(" "),s("td",[s("p",[t.isError?s("placeholder",{attrs:{min:9,max:12}}):s("span",[t._v(t._s(t.student.name))])],1)])]),t._v(" "),s("tr",[t._m(2),t._v(" "),s("td",[s("p",[t.isError?s("placeholder",{attrs:{min:9,max:12}}):s("span",[t._v(t._s(t.student.surname))])],1)])]),t._v(" "),s("tr",[t._m(3),t._v(" "),s("td",[s("p",{staticClass:"vs-gray-info"},[t.isError?s("placeholder",{attrs:{min:2,max:4}}):s("span",[t._v(t._s(t.student.id))])],1)])]),t._v(" "),s("tr",[t._m(4),t._v(" "),s("td",[s("p",{staticClass:"vs-gray-info"},[t.isError?s("placeholder",{attrs:{min:5,max:5}}):t._e(),t._v(" "),s("span",[t._v(t._s(t.student.start))])],1)])]),t._v(" "),s("tr",[t._m(5),t._v(" "),s("td",[t.isError?s("p",[s("placeholder",{attrs:{min:4,max:7}})],1):s("div",["altname"in t.student.class?s("router-link",{staticClass:"class-ref",attrs:{to:{name:"classView",params:{id:t.student.class.id}}}},[t._v(t._s(t.student.class.altname))]):s("router-link",{staticClass:"class-ref",attrs:{to:{name:"classView",params:{id:t.student.class.id}}}},[t._v(t._s(t.student.class.name))])],1)])])])])])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col",staticStyle:{"margin-left":"20px"}},[s("p",{staticClass:"view-rel-headline"},[t._v("Info")]),t._v(" "),s("table",{staticStyle:{"margin-left":"20px"}},[s("tr",[t._m(6),t._v(" "),s("td",[s("p",[t.isError?s("placeholder",{attrs:{min:10,max:16}}):s("span",[t._v(t._s(t.student.email))])],1)])]),t._v(" "),s("tr",[t._m(7),t._v(" "),s("td",[s("p",[t.isError?s("placeholder",{attrs:{min:12,max:18}}):s("span",[t._v(t._s(t.student.phone))])],1)])]),t._v(" "),s("tr",[t._m(8),t._v(" "),s("td",[s("p",[t.isError?s("placeholder",{attrs:{min:14,max:20}}):s("span",[t._v(t._s(t.student.adress))])],1)])]),t._v(" "),s("tr",[t._m(9),t._v(" "),s("td",[s("p",{staticClass:"no-bottom-margin"},[t.isError?s("placeholder",{attrs:{min:8,max:12}}):s("span",[t._v(t._s(t.student.birth))])],1)])])])]),t._v(" "),s("div",{staticClass:"col main-parent-con"},[s("div",[s("p",{staticClass:"view-rel-headline"},[t._v("Parents")]),t._v(" "),s("div",{staticClass:"parents-con"},[t._l(2,function(e){return t.isError?s("div",{key:e,staticStyle:{padding:"0px"}},[s("button",{staticClass:"relative-ref custom-button"},[s("placeholder",{attrs:{min:6,max:8}})],1),t._v(" "),s("br")]):t._e()}),t._v(" "),t._l(t.student.parents,function(e){return s("div",{key:e.id,staticStyle:{padding:"0px"}},[s("a",{staticClass:"relative-ref custom-button",on:{click:function(s){t.$router.push({name:"parentView",params:{id:e.id}})}}},[t._v(t._s(e.wholeName))]),t._v(" "),s("br")])})],2)])])]),t._v(" "),void 0!==t.user&&t.user.privilege>=3&&!t.isStudentEmpty?s("div",{staticClass:"row manipulate-buttons-con"},[s("button",{staticClass:"btn btn-outline-secondary",on:{click:t.editStudent}},[t._v("Edit")])]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("h1",{staticClass:"card-heading"},[this._v("Student:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info",staticStyle:{"padding-right":"80px"}},[e("p",[this._v("Name:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("Surname: ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("ID:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("Start:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("Class:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info",staticStyle:{"padding-right":"50px"}},[e("p",[e("i",{staticClass:"fa fa-envelope",attrs:{"aria-hidden":"true"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[e("i",{staticClass:"fa fa-phone",attrs:{"aria-hidden":"true"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[e("i",{staticClass:"fa fa-home",attrs:{"aria-hidden":"true"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",{staticClass:"no-bottom-margin"},[e("i",{staticClass:"fa fa-birthday-cake",attrs:{"aria-hidden":"true"}})])])}]},dt={methods:{async addParent(){if(this.newParentID.length>0){const t=await at("parent",this.newParentID);t?t.success?this.student.parents.unshift({id:t.parent.id,wholeName:`${t.parent.name} ${t.parent.surname}`}):this.setTimoutError(t.message):x()}else this.setTimoutError("The ID field cannot be empty!!!");this.newParentID=""},removeParent(t){this.student.parents=this.student.parents.filter(e=>e.id!==t)}}},ut={methods:{checkRegexAndSetError(){return""===this.student.email||null===this.student.email||void 0===this.student.email||/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(this.student.email)?!(""!==this.student.phone&&null!==this.student.phone&&void 0!==this.student.phone&&!/^\+([0-9]{3})\x20([0-9]{3})\x20([0-9]{3})\x20([0-9]{3})$/.test(this.student.phone))||(this.setTimoutError("Invalid phone number format! Example: +421 512 451 541"),!1):(this.setTimoutError("Invalid email format! Example: jondoe@gmail.com"),!1)},checkRequiredAndSetError(){return""!==this.student.name&&void 0!==this.student.name&&""!==this.student.surname&&void 0!==this.student.surname&&""!==this.student.birth&&void 0!==this.student.birth&&""!==this.student.start&&void 0!==this.student.start||(this.setTimoutError("Please fill in all required fields."),!1)}}},pt={methods:{parseStudentToSend(t){const e=JSON.parse(JSON.stringify(t));return e.parents=e.parents.map(t=>t.id),delete e.class.altname,delete e.class.name,e}}},mt={mixins:[et,nt,lt,dt,ut,pt],data:()=>({newParentID:"",student:{id:"",class:{id:""}},oldStudent:{id:"",class:{id:""}},alertMessage:""}),watch:{"$route.params.id":function(t){this.student={class:{}},this.fetchAndSetStudent(t)}},methods:{async saveTheEdit(){if(this.checkRequiredAndSetError()&&this.checkRegexAndSetError()){let t,e=this.parseStudentToSend(this.student);try{t=await rt("student",e,this.$store.getters.user.api_key)}catch(t){return void x()}t.data.success?this.$router.push({name:"studentView",params:{id:e.id}}):this.setTimoutError(t.data.message)}},async deleteStudent(){let t=await st("student",this.student.id,this.$store.getters.user.api_key);t?t.success?this.$router.push({name:"studentsList"}):"expired"in t.message&&this.setTimoutError("Your token has expired please logout and then login again."):x()},goBack(){this.$router.push({name:"studentView",params:{id:this.$route.params.id}})},setStudent(t){t.success?(this.oldStudent=JSON.parse(JSON.stringify(t.student)),this.student=JSON.parse(JSON.stringify(t.student)),this.alertMessage="",document.title=`Edit | ${t.student.name} ${t.student.surname}`):this.setPermanentAlert(t.message)},async fetchAndSetStudent(t){const e=await at("student",t);e?this.setStudent(e):x()}},computed:{user(){return this.$store.getters.user},isStudentEmpty(){return Object.keys(this.student).length<=1},isWarning(){return void 0!==this.alertMessage&&this.alertMessage.length>0},isError(){return this.isStudentEmpty&&this.alertMessage.length>0}},beforeRouteEnter:async(t,e,s)=>{let a=await at("student",t.params.id);a?(a.success&&(document.title=`Edit | ${a.student.name} ${a.student.surname}`),s(t=>{t.setStudent(a)})):x()}},vt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container vs-main-con"},[t.isError||t.isWarning?s("div",{staticClass:"alert alert-danger"},[t._v(t._s(t.alertMessage))]):t._e(),t._v(" "),t.isError?t._e():s("div",[t._m(0),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col prof-image-con"},[t.isMale("student")?s("img",{attrs:{src:"/static/images/placeholder_male.jpg",alt:""}}):s("img",{attrs:{src:"/static/images/placeholder_female.jpg",alt:""}})]),t._v(" "),s("div",{staticClass:"col vs-text-con"},[s("div",[s("table",[s("tr",[t._m(1),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-10 form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.name,expression:"student.name"}],staticClass:"form-control",class:{"is-invalid":""===t.student.name},attrs:{id:"nameInput",placeholder:t.oldStudent.name,type:"text"},domProps:{value:t.student.name},on:{input:function(e){e.target.composing||t.$set(t.student,"name",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(2),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.surname,expression:"student.surname"}],staticClass:"form-control",class:{"is-invalid":""===t.student.surname},attrs:{placeholder:t.oldStudent.surname,type:"text"},domProps:{value:t.student.surname},on:{input:function(e){e.target.composing||t.$set(t.student,"surname",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(3),t._v(" "),s("td",[s("p",{staticClass:"vs-gray-info"},[s("span",[t._v(t._s(t.oldStudent.id))])])])]),t._v(" "),s("tr",[t._m(4),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.start,expression:"student.start"}],staticClass:"form-control",attrs:{placeholder:t.oldStudent.start,type:"number"},domProps:{value:t.student.start},on:{input:function(e){e.target.composing||t.$set(t.student,"start",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(5),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.class.id,expression:"student.class.id"}],staticClass:"form-control",attrs:{placeholder:t.oldStudent.class.id,type:"number"},domProps:{value:t.student.class.id},on:{input:function(e){e.target.composing||t.$set(t.student.class,"id",e.target.value)}}})])])])])])])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col",staticStyle:{"margin-left":"20px"}},[s("p",{staticClass:"view-rel-headline"},[t._v("Info")]),t._v(" "),s("table",{staticStyle:{"margin-left":"20px"}},[s("tr",[t._m(6),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.email,expression:"student.email"}],staticClass:"form-control",attrs:{placeholder:t.oldStudent.email,type:"text"},domProps:{value:t.student.email},on:{input:function(e){e.target.composing||t.$set(t.student,"email",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(7),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.phone,expression:"student.phone"}],staticClass:"form-control",attrs:{placeholder:t.oldStudent.phone,type:"text"},domProps:{value:t.student.phone},on:{input:function(e){e.target.composing||t.$set(t.student,"phone",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(8),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.adress,expression:"student.adress"}],staticClass:"form-control",attrs:{placeholder:t.oldStudent.adress,type:"text"},domProps:{value:t.student.adress},on:{input:function(e){e.target.composing||t.$set(t.student,"adress",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(9),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.birth,expression:"student.birth"}],staticClass:"form-control",class:{"is-invalid":""===t.student.birth},attrs:{placeholder:t.oldStudent.birth,type:"date"},domProps:{value:t.student.birth},on:{input:function(e){e.target.composing||t.$set(t.student,"birth",e.target.value)}}})])])])])]),t._v(" "),s("div",{staticClass:"col main-parent-con"},[s("div",[s("p",{staticClass:"view-rel-headline"},[t._v("Parents")]),t._v(" "),s("div",{staticClass:"parents-con"},[s("div",{staticClass:"col-sm-6",attrs:{id:"addParentDiv"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newParentID,expression:"newParentID"}],staticClass:"form-control",attrs:{id:"newParentIdInput",placeholder:"Parent ID",type:"number"},domProps:{value:t.newParentID},on:{input:function(e){e.target.composing||(t.newParentID=e.target.value)}}}),t._v(" "),s("p",{attrs:{id:"add-parent-button"}},[s("i",{staticClass:"fa fa-plus-circle",attrs:{"aria-hidden":"true"},on:{click:t.addParent}})])]),t._v(" "),s("br"),t._v(" "),t._l(t.student.parents,function(e){return s("div",{key:e.id,staticStyle:{padding:"0px"}},[s("a",{staticClass:"relative-ref custom-button",attrs:{href:"#"}},[t._v(t._s(e.wholeName))]),t._v(" "),s("i",{staticClass:"delete fa fa-times",attrs:{"aria-hidden":"true"},on:{click:function(s){t.removeParent(e.id)}}}),t._v(" "),s("br")])})],2)])])]),t._v(" "),s("div",{staticClass:"row manipulate-buttons-con"},[s("div",{attrs:{id:"cancel-button-wrapper"}},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{id:"cancelEdit"},on:{click:t.goBack}},[t._v("Cancel")])]),t._v(" "),s("button",{staticClass:"btn btn-outline-primary",attrs:{id:"updateStudent"},on:{click:t.saveTheEdit}},[t._v("Save")]),t._v(" "),s("button",{staticClass:"btn btn-outline-danger",attrs:{id:"deleteStudent"},on:{click:t.deleteStudent}},[t._v("\n          Delete\n        ")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("h1",{staticClass:"card-heading"},[this._v("Student:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info",staticStyle:{"padding-right":"80px"}},[e("p",[this._v("Name:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("Surname: ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("ID:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("Start:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("Class ID:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info",staticStyle:{"padding-right":"20px"}},[e("p",[e("i",{staticClass:"fa fa-envelope",attrs:{"aria-hidden":"true"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[e("i",{staticClass:"fa fa-phone",attrs:{"aria-hidden":"true"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[e("i",{staticClass:"fa fa-home",attrs:{"aria-hidden":"true"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",{staticClass:"no-bottom-margin"},[e("i",{staticClass:"fa fa-birthday-cake",attrs:{"aria-hidden":"true"}})])])}]},ht={mixins:[et,lt,dt,ut,pt],data:()=>({newParentID:"",student:{id:"",class:{id:""},parents:[]},alertMessage:""}),methods:{async uploadStudent(){if(this.checkRequiredAndSetError()&&this.checkRegexAndSetError()){let t,e=this.parseStudentToSend(this.student);try{t=await it("student",e,this.$store.getters.user.api_key)}catch(t){return void x()}t.data.success?this.$router.push({name:"studentView",params:{id:t.data.studentID}}):this.setTimoutError(t.data.message)}},goBack(){this.$router.push({name:"studentView",params:{id:this.$route.params.id}})}},computed:{user(){return this.$store.getters.user},isWarning(){return void 0!==this.alertMessage&&this.alertMessage.length>0}}},ft={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container vs-main-con"},[t.isWarning?s("div",{staticClass:"alert alert-danger"},[t._v(t._s(t.alertMessage))]):t._e(),t._v(" "),s("div",[t._m(0),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col prof-image-con"},[t.isMale("student")?s("img",{attrs:{src:"/static/images/placeholder_male.jpg",alt:""}}):s("img",{attrs:{src:"/static/images/placeholder_female.jpg",alt:""}})]),t._v(" "),s("div",{staticClass:"col vs-text-con"},[s("div",[s("table",[s("tr",[t._m(1),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-10 form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.name,expression:"student.name"}],staticClass:"form-control",class:{"is-invalid":void 0===t.student.name||""===t.student.name},attrs:{id:"nameInput",type:"text"},domProps:{value:t.student.name},on:{input:function(e){e.target.composing||t.$set(t.student,"name",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(2),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.surname,expression:"student.surname"}],staticClass:"form-control",class:{"is-invalid":void 0===t.student.surname||""===t.student.surname},attrs:{type:"text"},domProps:{value:t.student.surname},on:{input:function(e){e.target.composing||t.$set(t.student,"surname",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(3),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.start,expression:"student.start"}],staticClass:"form-control",class:{"is-invalid":void 0===t.student.start||""===t.student.start},attrs:{type:"number"},domProps:{value:t.student.start},on:{input:function(e){e.target.composing||t.$set(t.student,"start",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(4),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.class.id,expression:"student.class.id"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.student.class.id},on:{input:function(e){e.target.composing||t.$set(t.student.class,"id",e.target.value)}}})])])])])])])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col",staticStyle:{"margin-left":"20px"}},[s("p",{staticClass:"view-rel-headline"},[t._v("Info")]),t._v(" "),s("table",{staticStyle:{"margin-left":"20px"}},[s("tr",[t._m(5),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.email,expression:"student.email"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.student.email},on:{input:function(e){e.target.composing||t.$set(t.student,"email",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(6),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.phone,expression:"student.phone"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.student.phone},on:{input:function(e){e.target.composing||t.$set(t.student,"phone",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(7),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.adress,expression:"student.adress"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.student.adress},on:{input:function(e){e.target.composing||t.$set(t.student,"adress",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(8),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student.birth,expression:"student.birth"}],staticClass:"form-control",class:{"is-invalid":void 0===t.student.birth||""===t.student.birth},attrs:{type:"date"},domProps:{value:t.student.birth},on:{input:function(e){e.target.composing||t.$set(t.student,"birth",e.target.value)}}})])])])])]),t._v(" "),s("div",{staticClass:"col main-parent-con"},[s("div",[s("p",{staticClass:"view-rel-headline"},[t._v("Parents")]),t._v(" "),s("div",{staticClass:"parents-con"},[s("div",{staticClass:"col-sm-6",attrs:{id:"addParentDiv"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newParentID,expression:"newParentID"}],staticClass:"form-control",attrs:{id:"newParentIdInput",placeholder:"Parent ID",type:"number"},domProps:{value:t.newParentID},on:{input:function(e){e.target.composing||(t.newParentID=e.target.value)}}}),t._v(" "),s("p",{attrs:{id:"add-parent-button"}},[s("i",{staticClass:"fa fa-plus-circle",attrs:{"aria-hidden":"true"},on:{click:t.addParent}})])]),t._v(" "),s("br"),t._v(" "),t._l(t.student.parents,function(e){return s("div",{key:e.id,staticStyle:{padding:"0px"}},[s("a",{staticClass:"relative-ref custom-button",attrs:{href:"#"}},[t._v(t._s(e.wholeName))]),t._v(" "),s("i",{staticClass:"delete fa fa-times",attrs:{"aria-hidden":"true"},on:{click:function(s){t.removeParent(e.id)}}}),t._v(" "),s("br")])})],2)])])]),t._v(" "),s("div",{staticClass:"row manipulate-buttons-con"},[s("div",{attrs:{id:"cancel-button-wrapper"}},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{id:"cancelEdit"},on:{click:t.goBack}},[t._v("Cancel")])]),t._v(" "),s("button",{staticClass:"btn btn-outline-primary",attrs:{id:"updateStudent"},on:{click:t.uploadStudent}},[t._v("Save")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("h1",{staticClass:"card-heading"},[this._v("Student:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info",staticStyle:{"padding-right":"80px"}},[e("p",[this._v("Name:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("Surname: ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("Start:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("Class ID:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info",staticStyle:{"padding-right":"20px"}},[e("p",[e("i",{staticClass:"fa fa-envelope",attrs:{"aria-hidden":"true"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[e("i",{staticClass:"fa fa-phone",attrs:{"aria-hidden":"true"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[e("i",{staticClass:"fa fa-home",attrs:{"aria-hidden":"true"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",{staticClass:"no-bottom-margin"},[e("i",{staticClass:"fa fa-birthday-cake",attrs:{"aria-hidden":"true"}})])])}]},_t=(t,e)=>{N.getters.user.privilege>=t?e():ie.push({name:"errorDisplay",params:{which:"noPermissionToEdit"}})},gt=[{name:"studentView",path:"student/view/:id",component:s("VU/8")(ot,ct,!1,function(t){s("Il7S")},null,null).exports},{name:"studentEdit",path:"student/edit/:id",component:s("VU/8")(mt,vt,!1,function(t){s("DLrv")},"data-v-a7ae335c",null).exports,beforeEnter(t,e,s){_t(3,s)}},{name:"studentAdd",path:"student/add",component:s("VU/8")(ht,ft,!1,null,null,null).exports,meta:{title:"Add Student"},beforeEnter(t,e,s){_t(3,s)}}],Ct={mixins:[et,nt],components:{Placeholder:B},data:()=>({parent:{},alertMessage:""}),watch:{"$route.params.id":function(t){this.parent={},this.fetchParent(t)}},methods:{editParent(){this.$router.push({name:"parentEdit",params:{id:this.parent.id}})},setParent(t){t.success?(this.parent=t.parent,this.alertMessage="",document.title=`${t.parent.name} ${t.parent.surname}`):this.setPermanentAlert(t.message)},async fetchParent(t){const e=await at("parent",t);e?this.setParent(e):x()}},computed:{user(){return this.$store.getters.user},isParentEmpty(){return Object.keys(this.parent).length<=1},isError(){return this.isParentEmpty&&this.alertMessage.length>0}},beforeRouteEnter:async(t,e,s)=>{const a=await at("parent",t.params.id);a?(a.success&&(document.title=`${a.parent.name} ${a.parent.surname}`),s(t=>{t.setParent(a)})):x()}},bt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container vs-main-con"},[t.isError?s("div",{staticClass:"alert alert-danger"},[t._v(t._s(t.alertMessage))]):t._e(),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"row"},[!t.isParentEmpty||t.alertMessage.length>0?s("div",{staticClass:"col prof-image-con"},[t.isMale("parent")||void 0===t.parent.surname?s("img",{attrs:{src:"/static/images/placeholder_male.jpg",alt:""}}):s("img",{attrs:{src:"/static/images/placeholder_female.jpg",alt:""}})]):t._e(),t._v(" "),s("div",{staticClass:"col vs-text-con"},[s("div",[s("table",[s("tr",[t._m(1),t._v(" "),s("td",[s("p",[t.isError?s("placeholder",{attrs:{min:9,max:12}}):s("span",[t._v(t._s(t.parent.name))])],1)])]),t._v(" "),s("tr",[t._m(2),t._v(" "),s("td",[s("p",[t.isError?s("placeholder",{attrs:{min:9,max:12}}):s("span",[t._v(t._s(t.parent.surname))])],1)])]),t._v(" "),s("tr",[t._m(3),t._v(" "),s("td",[s("p",{staticClass:"vs-gray-info"},[t.isError?s("placeholder",{attrs:{min:2,max:4}}):s("span",[t._v(t._s(t.parent.id))])],1)])])])])])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col",staticStyle:{"margin-left":"20px"}},[s("p",{staticClass:"view-rel-headline"},[t._v("Info")]),t._v(" "),s("table",{staticStyle:{"margin-left":"20px"}},[s("tr",[t._m(4),t._v(" "),s("td",[s("p",[t.isError?s("placeholder",{attrs:{min:10,max:16}}):s("span",[t._v(t._s(t.parent.email))])],1)])]),t._v(" "),s("tr",[t._m(5),t._v(" "),s("td",[s("p",[t.isError?s("placeholder",{attrs:{min:12,max:18}}):s("span",[t._v(t._s(t.parent.phone))])],1)])]),t._v(" "),s("tr",[t._m(6),t._v(" "),s("td",[s("p",[t.isError?s("placeholder",{attrs:{min:14,max:20}}):s("span",[t._v(t._s(t.parent.adress))])],1)])])])]),t._v(" "),s("div",{staticClass:"col main-parent-con"},[s("div",[s("p",{staticClass:"view-rel-headline"},[t._v("Children")]),t._v(" "),s("div",{staticClass:"parents-con"},[t._l(2,function(e){return t.isError?s("div",{key:e,staticStyle:{padding:"0px"}},[s("button",{staticClass:"relative-ref custom-button"},[s("placeholder",{attrs:{min:6,max:8}})],1),t._v(" "),s("br")]):t._e()}),t._v(" "),t._l(t.parent.children,function(e){return s("div",{key:e.id,staticStyle:{padding:"0px"}},[s("a",{staticClass:"relative-ref custom-button",on:{click:function(s){t.$router.push({name:"studentView",params:{id:e.id}})}}},[t._v(t._s(e.wholeName))]),t._v(" "),s("br")])})],2)])])]),t._v(" "),void 0!==t.user&&t.user.privilege>=3&&!t.isParentEmpty?s("div",{staticClass:"row manipulate-buttons-con"},[s("button",{staticClass:"btn btn-outline-secondary",on:{click:t.editParent}},[t._v("Edit")])]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("h1",{staticClass:"card-heading"},[this._v("Parent:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info",staticStyle:{"padding-right":"80px"}},[e("p",[this._v("Name:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("Surname: ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("ID:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info",staticStyle:{"padding-right":"50px"}},[e("p",[e("i",{staticClass:"fa fa-envelope",attrs:{"aria-hidden":"true"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[e("i",{staticClass:"fa fa-phone",attrs:{"aria-hidden":"true"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[e("i",{staticClass:"fa fa-home",attrs:{"aria-hidden":"true"}})])])}]},yt={methods:{async addChild(){if(this.newChildID.length>0){const t=await at("student",this.newChildID);t?t.success?this.parent.children.unshift({id:t.student.id,wholeName:`${t.student.name} ${t.student.surname}`}):this.setTimoutError(t.message):x()}else this.setTimoutError("The ID field cannot be empty!!!");this.newChildID=""},removeChild(t){this.parent.children=this.parent.children.filter(e=>e.id!==t)}}},wt={methods:{checkRegexAndSetError(){return""===this.parent.email||null===this.parent.email||void 0===this.parent.email||/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(this.parent.email)?!(""!==this.parent.phone&&null!==this.parent.phone&&void 0!==this.parent.phone&&!/^\+([0-9]{3})\x20([0-9]{3})\x20([0-9]{3})\x20([0-9]{3})$/.test(this.parent.phone))||(this.setTimoutError("Invalid phone number format! Example: +421 512 451 541"),!1):(this.setTimoutError("Invalid email format! Example: jondoe@gmail.com"),!1)},checkRequiredAndSetError(){return""!==this.parent.name&&void 0!==this.parent.name&&""!==this.parent.surname&&void 0!==this.parent.surname&&""!==this.parent.phone&&void 0!==this.parent.phone&&""!==this.parent.email&&void 0!==this.parent.email||(this.setTimoutError("Please fill in all required fields."),!1)}}},xt={methods:{parseParentToSend(t){const e=JSON.parse(JSON.stringify(t));return e.children=e.children.map(t=>t.id),e}}},Et={mixins:[et,nt,lt,yt,wt,xt],data:()=>({newChildID:"",parent:{id:""},oldParent:{id:""},alertMessage:""}),watch:{"$route.params.id":function(t){this.parent={},this.fetchAndSetParent(t)}},methods:{async saveTheEdit(){if(this.checkRequiredAndSetError()&&this.checkRegexAndSetError()){let t,e=this.parseParentToSend(this.parent);try{t=await rt("parent",e,this.$store.getters.user.api_key)}catch(t){return void x()}t.data.success?this.$router.push({name:"parentView",params:{id:e.id}}):this.setTimoutError(t.data.message)}},async deleteParent(){let t=await st("parent",this.parent.id,this.$store.getters.user.api_key);t?t.success?this.$router.push({name:"parentsList"}):"expired"in t.message&&this.setTimoutError("Your token has expired please logout and then login again."):x()},goBack(){this.$router.push({name:"parentView",params:{id:this.parent.id}})},setParent(t){t.success?(this.oldParent=JSON.parse(JSON.stringify(t.parent)),this.parent=JSON.parse(JSON.stringify(t.parent)),this.alertMessage="",document.title=`Edit | ${t.parent.name} ${t.parent.surname}`):this.setPermanentAlert(t.message)},async fetchAndSetParent(t){const e=await at("parent",t);e?this.setParent(e):x()}},computed:{user(){return this.$store.getters.user},isParentEmpty(){return Object.keys(this.parent).length<=1},isWarning(){return void 0!==this.alertMessage&&this.alertMessage.length>0},isError(){return this.isParentEmpty&&this.alertMessage.length>0}},beforeRouteEnter:async(t,e,s)=>{let a=await at("parent",t.params.id);a?(a.success&&(document.title=`Edit | ${a.parent.name} ${a.parent.surname}`),s(t=>{t.setParent(a)})):x()}},$t={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container vs-main-con"},[t.isError||t.isWarning?s("div",{staticClass:"alert alert-danger"},[t._v(t._s(t.alertMessage))]):t._e(),t._v(" "),t.isError?t._e():s("div",[t._m(0),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col prof-image-con"},[t.isMale("parent")?s("img",{attrs:{src:"/static/images/placeholder_male.jpg",alt:""}}):s("img",{attrs:{src:"/static/images/placeholder_female.jpg",alt:""}})]),t._v(" "),s("div",{staticClass:"col vs-text-con"},[s("div",[s("table",[s("tr",[t._m(1),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-10 form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.parent.name,expression:"parent.name"}],staticClass:"form-control",class:{"is-invalid":""===t.parent.name},attrs:{id:"nameInput",placeholder:t.oldParent.name,type:"text"},domProps:{value:t.parent.name},on:{input:function(e){e.target.composing||t.$set(t.parent,"name",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(2),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.parent.surname,expression:"parent.surname"}],staticClass:"form-control",class:{"is-invalid":""===t.parent.surname},attrs:{placeholder:t.oldParent.surname,type:"text"},domProps:{value:t.parent.surname},on:{input:function(e){e.target.composing||t.$set(t.parent,"surname",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(3),t._v(" "),s("td",[s("p",{staticClass:"vs-gray-info"},[s("span",[t._v(t._s(t.oldParent.id))])])])])])])])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col",staticStyle:{"margin-left":"20px"}},[s("p",{staticClass:"view-rel-headline"},[t._v("Info")]),t._v(" "),s("table",{staticStyle:{"margin-left":"20px"}},[s("tr",[t._m(4),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.parent.email,expression:"parent.email"}],staticClass:"form-control",class:{"is-invalid":""===t.parent.email},attrs:{placeholder:t.oldParent.email,type:"text"},domProps:{value:t.parent.email},on:{input:function(e){e.target.composing||t.$set(t.parent,"email",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(5),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.parent.phone,expression:"parent.phone"}],staticClass:"form-control",class:{"is-invalid":""===t.parent.phone},attrs:{placeholder:t.oldParent.phone,type:"text"},domProps:{value:t.parent.phone},on:{input:function(e){e.target.composing||t.$set(t.parent,"phone",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(6),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.parent.adress,expression:"parent.adress"}],staticClass:"form-control",attrs:{placeholder:t.oldParent.adress,type:"text"},domProps:{value:t.parent.adress},on:{input:function(e){e.target.composing||t.$set(t.parent,"adress",e.target.value)}}})])])])])]),t._v(" "),s("div",{staticClass:"col main-parent-con"},[s("div",[s("p",{staticClass:"view-rel-headline"},[t._v("Children")]),t._v(" "),s("div",{staticClass:"parents-con"},[s("div",{staticClass:"col-sm-6",attrs:{id:"addParentDiv"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newChildID,expression:"newChildID"}],staticClass:"form-control",attrs:{id:"newChildIdInput",placeholder:"Child ID",type:"number"},domProps:{value:t.newChildID},on:{input:function(e){e.target.composing||(t.newChildID=e.target.value)}}}),t._v(" "),s("p",{attrs:{id:"add-parent-button"}},[s("i",{staticClass:"fa fa-plus-circle",attrs:{"aria-hidden":"true"},on:{click:t.addChild}})])]),t._v(" "),s("br"),t._v(" "),t._l(t.parent.children,function(e){return s("div",{key:e.id,staticStyle:{padding:"0px"}},[s("a",{staticClass:"relative-ref custom-button",attrs:{href:"#"}},[t._v(t._s(e.wholeName))]),t._v(" "),s("i",{staticClass:"delete fa fa-times",attrs:{"aria-hidden":"true"},on:{click:function(s){t.removeChild(e.id)}}}),t._v(" "),s("br")])})],2)])])]),t._v(" "),s("div",{staticClass:"row manipulate-buttons-con"},[s("div",{attrs:{id:"cancel-button-wrapper"}},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{id:"cancelEdit"},on:{click:t.goBack}},[t._v("Cancel")])]),t._v(" "),s("button",{staticClass:"btn btn-outline-primary",attrs:{id:"updateParent"},on:{click:t.saveTheEdit}},[t._v("Save")]),t._v(" "),s("button",{staticClass:"btn btn-outline-danger",attrs:{id:"deleteParent"},on:{click:t.deleteParent}},[t._v("\n          Delete\n        ")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("h1",{staticClass:"card-heading"},[this._v("Parent:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info",staticStyle:{"padding-right":"80px"}},[e("p",[this._v("Name:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("Surname: ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("ID:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info",staticStyle:{"padding-right":"20px"}},[e("p",[e("i",{staticClass:"fa fa-envelope",attrs:{"aria-hidden":"true"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[e("i",{staticClass:"fa fa-phone",attrs:{"aria-hidden":"true"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[e("i",{staticClass:"fa fa-home",attrs:{"aria-hidden":"true"}})])])}]},St={mixins:[et,lt,yt,wt,xt],data:()=>({newChildID:"",parent:{children:[],id:"",name:"",surname:"",phone:"",email:""},alertMessage:""}),methods:{async uploadParent(){if(console.log("uploading"),this.checkRequiredAndSetError()&&this.checkRegexAndSetError()){let t=this.parseParentToSend(this.parent);console.log(t);let e;try{e=await it("parent",t,this.$store.getters.user.api_key)}catch(t){return void x()}e.data.success?this.$router.push({name:"parentView",params:{id:e.data.parentID}}):this.setTimoutError(e.data.message)}},goBack(){this.$router.push({name:"parentsList"})}},computed:{user(){return this.$store.getters.user},isWarning(){return void 0!==this.alertMessage&&this.alertMessage.length>0}}},Pt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container vs-main-con"},[t.isWarning?s("div",{staticClass:"alert alert-danger"},[t._v(t._s(t.alertMessage))]):t._e(),t._v(" "),s("div",[t._m(0),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col prof-image-con"},[t.isMale("parent")?s("img",{attrs:{src:"/static/images/placeholder_male.jpg",alt:""}}):s("img",{attrs:{src:"/static/images/placeholder_female.jpg",alt:""}})]),t._v(" "),s("div",{staticClass:"col vs-text-con"},[s("div",[s("table",[s("tr",[t._m(1),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-10 form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.parent.name,expression:"parent.name"}],staticClass:"form-control",class:{"is-invalid":""===t.parent.name},attrs:{id:"nameInput",type:"text"},domProps:{value:t.parent.name},on:{input:function(e){e.target.composing||t.$set(t.parent,"name",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(2),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.parent.surname,expression:"parent.surname"}],staticClass:"form-control",class:{"is-invalid":""===t.parent.surname},attrs:{type:"text"},domProps:{value:t.parent.surname},on:{input:function(e){e.target.composing||t.$set(t.parent,"surname",e.target.value)}}})])])])])])])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col",staticStyle:{"margin-left":"20px"}},[s("p",{staticClass:"view-rel-headline"},[t._v("Info")]),t._v(" "),s("table",{staticStyle:{"margin-left":"20px"}},[s("tr",[t._m(3),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.parent.email,expression:"parent.email"}],staticClass:"form-control",class:{"is-invalid":""===t.parent.email},attrs:{type:"text"},domProps:{value:t.parent.email},on:{input:function(e){e.target.composing||t.$set(t.parent,"email",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(4),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.parent.phone,expression:"parent.phone"}],staticClass:"form-control",class:{"is-invalid":""===t.parent.phone},attrs:{type:"text"},domProps:{value:t.parent.phone},on:{input:function(e){e.target.composing||t.$set(t.parent,"phone",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(5),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.parent.adress,expression:"parent.adress"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.parent.adress},on:{input:function(e){e.target.composing||t.$set(t.parent,"adress",e.target.value)}}})])])])])]),t._v(" "),s("div",{staticClass:"col main-parent-con"},[s("div",[s("p",{staticClass:"view-rel-headline"},[t._v("Children")]),t._v(" "),s("div",{staticClass:"parents-con"},[s("div",{staticClass:"col-sm-6",attrs:{id:"addParentDiv"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newChildID,expression:"newChildID"}],staticClass:"form-control",attrs:{id:"newChildIdInput",placeholder:"Child ID",type:"number"},domProps:{value:t.newChildID},on:{input:function(e){e.target.composing||(t.newChildID=e.target.value)}}}),t._v(" "),s("p",{attrs:{id:"add-parent-button"}},[s("i",{staticClass:"fa fa-plus-circle",attrs:{"aria-hidden":"true"},on:{click:t.addChild}})])]),t._v(" "),s("br"),t._v(" "),t._l(t.parent.children,function(e){return s("div",{key:e.id,staticStyle:{padding:"0px"}},[s("a",{staticClass:"relative-ref custom-button",attrs:{href:"#"}},[t._v(t._s(e.wholeName))]),t._v(" "),s("i",{staticClass:"delete fa fa-times",attrs:{"aria-hidden":"true"},on:{click:function(s){t.removeChild(e.id)}}}),t._v(" "),s("br")])})],2)])])]),t._v(" "),s("div",{staticClass:"row manipulate-buttons-con"},[s("div",{attrs:{id:"cancel-button-wrapper"}},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{id:"cancelEdit"},on:{click:t.goBack}},[t._v("Cancel")])]),t._v(" "),s("button",{staticClass:"btn btn-outline-primary",attrs:{id:"updateParent"},on:{click:t.uploadParent}},[t._v("Save")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("h1",{staticClass:"card-heading"},[this._v("Parent:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info",staticStyle:{"padding-right":"80px"}},[e("p",[this._v("Name:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("Surname: ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info",staticStyle:{"padding-right":"20px"}},[e("p",[e("i",{staticClass:"fa fa-envelope",attrs:{"aria-hidden":"true"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[e("i",{staticClass:"fa fa-phone",attrs:{"aria-hidden":"true"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[e("i",{staticClass:"fa fa-home",attrs:{"aria-hidden":"true"}})])])}]},kt=[{name:"parentView",path:"parent/view/:id",component:s("VU/8")(Ct,bt,!1,function(t){s("lioD")},null,null).exports},{name:"parentEdit",path:"parent/edit/:id",component:s("VU/8")(Et,$t,!1,null,null,null).exports,beforeEnter(t,e,s){_t(3,s)}},{name:"parentAdd",path:"parent/add",component:s("VU/8")(St,Pt,!1,null,null,null).exports,meta:{title:"Add Parent"},beforeEnter(t,e,s){_t(3,s)}}],It={mixins:[et,nt],components:{Placeholder:B},data:()=>({professor:{classes:[]},alertMessage:""}),watch:{"$route.params.id":function(t){this.professor={classes:[]},this.fetchProfessor(t)}},methods:{editProfessor(){this.$router.push({name:"professorEdit",params:{id:this.professor.id}})},setProfessor(t){t.success?(this.professor=t.professor,this.alertMessage="",document.title=`${t.professor.name} ${t.professor.surname}`):this.setPermanentAlert(t.message)},async fetchProfessor(t){const e=await at("professor",t);e?this.setProfessor(e):x()}},computed:{user(){return this.$store.getters.user},isProfessorEmpty(){return Object.keys(this.professor).length<=1},isError(){return this.isProfessorEmpty&&this.alertMessage.length>0}},beforeRouteEnter:async(t,e,s)=>{const a=await at("professor",t.params.id);a?(a.success&&(document.title=`${a.professor.name} ${a.professor.surname}`),s(t=>{t.setProfessor(a)})):x()}},Tt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container vs-main-con"},[t.isError?s("div",{staticClass:"alert alert-danger"},[t._v(t._s(t.alertMessage))]):t._e(),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"row"},[!t.isProfessorEmpty||t.alertMessage.length>0?s("div",{staticClass:"col prof-image-con"},[t.isMale("professor")||void 0===t.professor.surname?s("img",{attrs:{src:"/static/images/placeholder_male.jpg",alt:""}}):s("img",{attrs:{src:"/static/images/placeholder_female.jpg",alt:""}})]):t._e(),t._v(" "),s("div",{staticClass:"col vs-text-con"},[s("div",[s("table",[s("tr",[t._m(1),t._v(" "),s("td",[s("p",{staticClass:"vs-gray-info"},[t.isError?s("placeholder",{attrs:{min:5,max:5}}):t._e(),t._v(" "),s("span",[t._v(t._s(t.professor.title))])],1)])]),t._v(" "),s("tr",[t._m(2),t._v(" "),s("td",[s("p",[t.isError?s("placeholder",{attrs:{min:9,max:12}}):s("span",[t._v(t._s(t.professor.name))])],1)])]),t._v(" "),s("tr",[t._m(3),t._v(" "),s("td",[s("p",[t.isError?s("placeholder",{attrs:{min:9,max:12}}):s("span",[t._v(t._s(t.professor.surname))])],1)])]),t._v(" "),s("tr",[t._m(4),t._v(" "),s("td",[s("p",{staticClass:"vs-gray-info"},[t.isError?s("placeholder",{attrs:{min:2,max:4}}):s("span",[t._v(t._s(t.professor.id))])],1)])]),t._v(" "),s("tr",[t._m(5),t._v(" "),s("td",[s("p",{staticClass:"vs-gray-info"},[t.isError?s("placeholder",{attrs:{min:5,max:5}}):t._e(),t._v(" "),s("span",[t._v(t._s(t.professor.loc))])],1)])])])])])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col",staticStyle:{"margin-left":"20px"}},[s("p",{staticClass:"view-rel-headline"},[t._v("Info")]),t._v(" "),s("table",{staticStyle:{"margin-left":"20px"}},[s("tr",[t._m(6),t._v(" "),s("td",[s("p",[t.isError?s("placeholder",{attrs:{min:10,max:16}}):s("span",[t._v(t._s(t.professor.email))])],1)])]),t._v(" "),s("tr",[t._m(7),t._v(" "),s("td",[s("p",[t.isError?s("placeholder",{attrs:{min:12,max:18}}):s("span",[t._v(t._s(t.professor.phone))])],1)])]),t._v(" "),s("tr",[t._m(8),t._v(" "),s("td",[s("p",[t.isError?s("placeholder",{attrs:{min:14,max:20}}):s("span",[t._v(t._s(t.professor.adress))])],1)])])])]),t._v(" "),s("div",{staticClass:"col main-parent-con"},[s("div",[s("p",{staticClass:"view-rel-headline"},[t._v("Classes")]),t._v(" "),s("div",{staticClass:"parents-con"},[t._l(2,function(e){return t.isError?s("div",{key:e,staticStyle:{padding:"0px"}},[s("button",{staticClass:"relative-ref custom-button"},[s("placeholder",{attrs:{min:6,max:8}})],1),t._v(" "),s("br")]):t._e()}),t._v(" "),t._l(t.professor.classes,function(e){return s("div",{key:e.id,staticStyle:{padding:"0px"}},[s("a",{staticClass:"relative-ref custom-button",on:{click:function(s){t.$router.push({name:"classView",params:{id:e.id}})}}},[s("span","altname"in e?[t._v(" "+t._s(e.altname))]:[t._v(" "+t._s(e.name))])]),t._v(" "),s("br")])})],2)])])]),t._v(" "),void 0!==t.user&&t.user.privilege>=3&&!t.isProfessorEmpty?s("div",{staticClass:"row manipulate-buttons-con"},[s("button",{staticClass:"btn btn-outline-secondary",on:{click:t.editProfessor}},[t._v("Edit")])]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("h1",{staticClass:"card-heading"},[this._v("Professor:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("Title:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info",staticStyle:{"padding-right":"80px"}},[e("p",[this._v("Name:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("Surname: ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("ID:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("Location:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info",staticStyle:{"padding-right":"50px"}},[e("p",[e("i",{staticClass:"fa fa-envelope",attrs:{"aria-hidden":"true"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[e("i",{staticClass:"fa fa-phone",attrs:{"aria-hidden":"true"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[e("i",{staticClass:"fa fa-home",attrs:{"aria-hidden":"true"}})])])}]},Nt={methods:{async addClass(){if(this.newClassID.length>0){const t=await at("class",this.newClassID);t?t.success?this.professor.classes.unshift(t.rclass):this.setTimoutError(t.message):x()}else this.setTimoutError("The ID field cannot be empty!!!");this.newClassID=""},removeClass(t){this.professor.classes=this.professor.classes.filter(e=>e.id!==t)}}},Dt={methods:{checkRegexAndSetError(){return""===this.professor.email||null===this.professor.email||void 0===this.professor.email||/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(this.professor.email)?!(""!==this.professor.phone&&null!==this.professor.phone&&void 0!==this.professor.phone&&!/^\+([0-9]{3})\x20([0-9]{3})\x20([0-9]{3})\x20([0-9]{3})$/.test(this.professor.phone))||(this.setTimoutError("Invalid phone number format! Example: +421 512 451 541"),!1):(this.setTimoutError("Invalid email format! Example: jondoe@gmail.com"),!1)},checkRequiredAndSetError(){return""!==this.professor.name&&void 0!==this.professor.name&&""!==this.professor.surname&&void 0!==this.professor.surname&&""!==this.professor.phone&&void 0!==this.professor.phone&&""!==this.professor.email&&void 0!==this.professor.email||(this.setTimoutError("Please fill in all required fields."),!1)}}},Rt={methods:{parseProfessorToSend(t){const e=JSON.parse(JSON.stringify(t));return e.classes=e.classes.map(t=>t.id),e}}},At={mixins:[et,nt,lt,Nt,Dt,Rt],data:()=>({newClassID:"",professor:{},oldProfessor:{},alertMessage:""}),watch:{"$route.params.id":function(t){this.professor={},this.fetchAndSetProfessor(t)}},methods:{async saveTheEdit(){if(this.checkRequiredAndSetError()&&this.checkRegexAndSetError()){let t,e=this.parseProfessorToSend(this.professor);try{t=await rt("professor",e,this.$store.getters.user.api_key)}catch(t){return void x()}t.data.success?this.$router.push({name:"professorView",params:{id:e.id}}):this.setTimoutError(t.data.message)}},async deleteProfessor(){let t=await st("professor",this.professor.id,this.$store.getters.user.api_key);t?t.success?this.$router.push({name:"professorsList"}):"expired"in t.message&&this.setTimoutError("Your token has expired please logout and then login again."):x()},goBack(){this.$router.push({name:"professorView",params:{id:this.oldProfessor}})},setProfessor(t){t.success?(this.oldProfessor=JSON.parse(JSON.stringify(t.professor)),this.professor=JSON.parse(JSON.stringify(t.professor)),this.alertMessage="",document.title=`Edit | ${t.professor.name} ${t.professor.surname}`):this.setPermanentAlert(t.message)},async fetchAndSetProfessor(t){const e=await at("professor",t);e?this.setProfessor(e):x()}},computed:{user(){return this.$store.getters.user},isProfessorEmpty(){return Object.keys(this.professor).length<=1},isWarning(){return void 0!==this.alertMessage&&this.alertMessage.length>0},isError(){return this.isProfessorEmpty&&this.alertMessage.length>0}},beforeRouteEnter:async(t,e,s)=>{let a=await at("professor",t.params.id);a?(a.success&&(document.title=`Edit | ${a.professor.name} ${a.professor.surname}`),s(t=>{t.setProfessor(a)})):x()}},Mt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container vs-main-con"},[t.isError||t.isWarning?s("div",{staticClass:"alert alert-danger"},[t._v(t._s(t.alertMessage))]):t._e(),t._v(" "),t.isError?t._e():s("div",[t._m(0),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col prof-image-con"},[t.isMale("professor")?s("img",{attrs:{src:"/static/images/placeholder_male.jpg",alt:""}}):s("img",{attrs:{src:"/static/images/placeholder_female.jpg",alt:""}})]),t._v(" "),s("div",{staticClass:"col vs-text-con"},[s("div",[s("table",[s("tr",[t._m(1),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-10 form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.professor.title,expression:"professor.title"}],staticClass:"form-control",attrs:{id:"titleInput",placeholder:t.oldProfessor.title,type:"text"},domProps:{value:t.professor.title},on:{input:function(e){e.target.composing||t.$set(t.professor,"title",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(2),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-10 form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.professor.name,expression:"professor.name"}],staticClass:"form-control",class:{"is-invalid":""===t.professor.name},attrs:{id:"nameInput",placeholder:t.oldProfessor.name,type:"text"},domProps:{value:t.professor.name},on:{input:function(e){e.target.composing||t.$set(t.professor,"name",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(3),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.professor.surname,expression:"professor.surname"}],staticClass:"form-control",class:{"is-invalid":""===t.professor.surname},attrs:{placeholder:t.oldProfessor.surname,type:"text"},domProps:{value:t.professor.surname},on:{input:function(e){e.target.composing||t.$set(t.professor,"surname",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(4),t._v(" "),s("td",[s("p",{staticClass:"vs-gray-info"},[s("span",[t._v(t._s(t.oldProfessor.id))])])])]),t._v(" "),s("tr",[t._m(5),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.professor.loc,expression:"professor.loc"}],staticClass:"form-control",attrs:{placeholder:t.oldProfessor.loc,type:"text"},domProps:{value:t.professor.loc},on:{input:function(e){e.target.composing||t.$set(t.professor,"loc",e.target.value)}}})])])])])])])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col",staticStyle:{"margin-left":"20px"}},[s("p",{staticClass:"view-rel-headline"},[t._v("Info")]),t._v(" "),s("table",{staticStyle:{"margin-left":"20px"}},[s("tr",[t._m(6),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.professor.email,expression:"professor.email"}],staticClass:"form-control",class:{"is-invalid":""===t.professor.email},attrs:{placeholder:t.oldProfessor.email,type:"text"},domProps:{value:t.professor.email},on:{input:function(e){e.target.composing||t.$set(t.professor,"email",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(7),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.professor.phone,expression:"professor.phone"}],staticClass:"form-control",class:{"is-invalid":""===t.professor.phone},attrs:{placeholder:t.oldProfessor.phone,type:"text"},domProps:{value:t.professor.phone},on:{input:function(e){e.target.composing||t.$set(t.professor,"phone",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(8),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.professor.adress,expression:"professor.adress"}],staticClass:"form-control",attrs:{placeholder:t.oldProfessor.adress,type:"text"},domProps:{value:t.professor.adress},on:{input:function(e){e.target.composing||t.$set(t.professor,"adress",e.target.value)}}})])])])])]),t._v(" "),s("div",{staticClass:"col main-parent-con"},[s("div",[s("p",{staticClass:"view-rel-headline"},[t._v("Classes")]),t._v(" "),s("div",{staticClass:"parents-con"},[s("div",{staticClass:"col-sm-6",attrs:{id:"addParentDiv"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newClassID,expression:"newClassID"}],staticClass:"form-control",attrs:{id:"newParentIdInput",placeholder:"Class ID",type:"number"},domProps:{value:t.newClassID},on:{input:function(e){e.target.composing||(t.newClassID=e.target.value)}}}),t._v(" "),s("p",{attrs:{id:"add-parent-button"}},[s("i",{staticClass:"fa fa-plus-circle",attrs:{"aria-hidden":"true"},on:{click:t.addClass}})])]),t._v(" "),s("br"),t._v(" "),t._l(t.professor.classes,function(e){return s("div",{key:e.id,staticStyle:{padding:"0px"}},[s("a",{staticClass:"relative-ref custom-button"},[s("span","altname"in e?[t._v(" "+t._s(e.altname))]:[t._v(" "+t._s(e.name))])]),t._v(" "),s("i",{staticClass:"delete fa fa-times",attrs:{"aria-hidden":"true"},on:{click:function(s){t.removeClass(e.id)}}}),t._v(" "),s("br")])})],2)])])]),t._v(" "),s("div",{staticClass:"row manipulate-buttons-con"},[s("div",{attrs:{id:"cancel-button-wrapper"}},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{id:"cancelEdit"},on:{click:t.goBack}},[t._v("Cancel")])]),t._v(" "),s("button",{staticClass:"btn btn-outline-primary",attrs:{id:"updateStudent"},on:{click:t.saveTheEdit}},[t._v("Save")]),t._v(" "),s("button",{staticClass:"btn btn-outline-danger",attrs:{id:"deleteStudent"},on:{click:t.deleteProfessor}},[t._v("\n          Delete\n        ")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("h1",{staticClass:"card-heading"},[this._v("Professor:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info",staticStyle:{"padding-right":"80px"}},[e("p",[this._v("Title:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info",staticStyle:{"padding-right":"80px"}},[e("p",[this._v("Name:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("Surname: ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("ID:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("Location:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info",staticStyle:{"padding-right":"20px"}},[e("p",[e("i",{staticClass:"fa fa-envelope",attrs:{"aria-hidden":"true"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[e("i",{staticClass:"fa fa-phone",attrs:{"aria-hidden":"true"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[e("i",{staticClass:"fa fa-home",attrs:{"aria-hidden":"true"}})])])}]},jt={mixins:[et,lt,Nt,Dt,Rt],data:()=>({newClassID:"",professor:{name:"",surname:"",email:"",phone:"",classes:[]},alertMessage:""}),methods:{async uploadProfessor(){if(this.checkRequiredAndSetError()&&this.checkRegexAndSetError()){let t,e=this.parseProfessorToSend(this.professor);try{t=await it("professor",e,this.$store.getters.user.api_key)}catch(t){return void x()}t.data.success?this.$router.push({name:"professorView",params:{id:t.data.professorID}}):this.setTimoutError(t.data.message)}},goBack(){this.$router.push({name:"professorsList"})}},computed:{user(){return this.$store.getters.user},isWarning(){return void 0!==this.alertMessage&&this.alertMessage.length>0}}},Lt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container vs-main-con"},[t.isWarning?s("div",{staticClass:"alert alert-danger"},[t._v(t._s(t.alertMessage))]):t._e(),t._v(" "),s("div",[t._m(0),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col prof-image-con"},[t.isMale("professor")?s("img",{attrs:{src:"/static/images/placeholder_male.jpg",alt:""}}):s("img",{attrs:{src:"/static/images/placeholder_female.jpg",alt:""}})]),t._v(" "),s("div",{staticClass:"col vs-text-con"},[s("div",[s("table",[s("tr",[t._m(1),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-10 form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.professor.title,expression:"professor.title"}],staticClass:"form-control",attrs:{id:"titleInput",type:"text"},domProps:{value:t.professor.title},on:{input:function(e){e.target.composing||t.$set(t.professor,"title",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(2),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-10 form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.professor.name,expression:"professor.name"}],staticClass:"form-control",class:{"is-invalid":""===t.professor.name},attrs:{id:"nameInput",type:"text"},domProps:{value:t.professor.name},on:{input:function(e){e.target.composing||t.$set(t.professor,"name",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(3),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.professor.surname,expression:"professor.surname"}],staticClass:"form-control",class:{"is-invalid":""===t.professor.surname},attrs:{type:"text"},domProps:{value:t.professor.surname},on:{input:function(e){e.target.composing||t.$set(t.professor,"surname",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(4),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.professor.loc,expression:"professor.loc"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.professor.loc},on:{input:function(e){e.target.composing||t.$set(t.professor,"loc",e.target.value)}}})])])])])])])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col",staticStyle:{"margin-left":"20px"}},[s("p",{staticClass:"view-rel-headline"},[t._v("Info")]),t._v(" "),s("table",{staticStyle:{"margin-left":"20px"}},[s("tr",[t._m(5),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.professor.email,expression:"professor.email"}],staticClass:"form-control",class:{"is-invalid":""===t.professor.email},attrs:{type:"text"},domProps:{value:t.professor.email},on:{input:function(e){e.target.composing||t.$set(t.professor,"email",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(6),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.professor.phone,expression:"professor.phone"}],staticClass:"form-control",class:{"is-invalid":""===t.professor.phone},attrs:{type:"text"},domProps:{value:t.professor.phone},on:{input:function(e){e.target.composing||t.$set(t.professor,"phone",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(7),t._v(" "),s("td",[s("div",{staticClass:"mb-1 col-sm-12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.professor.adress,expression:"professor.adress"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.professor.adress},on:{input:function(e){e.target.composing||t.$set(t.professor,"adress",e.target.value)}}})])])])])]),t._v(" "),s("div",{staticClass:"col main-parent-con"},[s("div",[s("p",{staticClass:"view-rel-headline"},[t._v("Classes")]),t._v(" "),s("div",{staticClass:"parents-con"},[s("div",{staticClass:"col-sm-6",attrs:{id:"addParentDiv"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newClassID,expression:"newClassID"}],staticClass:"form-control",attrs:{id:"newParentIdInput",placeholder:"Class ID",type:"number"},domProps:{value:t.newClassID},on:{input:function(e){e.target.composing||(t.newClassID=e.target.value)}}}),t._v(" "),s("p",{attrs:{id:"add-parent-button"}},[s("i",{staticClass:"fa fa-plus-circle",attrs:{"aria-hidden":"true"},on:{click:t.addClass}})])]),t._v(" "),s("br"),t._v(" "),t._l(t.professor.classes,function(e){return s("div",{key:e.id,staticStyle:{padding:"0px"}},[s("a",{staticClass:"relative-ref custom-button"},[s("span","altname"in e?[t._v(" "+t._s(e.altname))]:[t._v(" "+t._s(e.name))])]),t._v(" "),s("i",{staticClass:"delete fa fa-times",attrs:{"aria-hidden":"true"},on:{click:function(s){t.removeClass(e.id)}}}),t._v(" "),s("br")])})],2)])])]),t._v(" "),s("div",{staticClass:"row manipulate-buttons-con"},[s("div",{attrs:{id:"cancel-button-wrapper"}},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{id:"cancelEdit"},on:{click:t.goBack}},[t._v("Cancel")])]),t._v(" "),s("button",{staticClass:"btn btn-outline-primary",attrs:{id:"updateStudent"},on:{click:t.uploadProfessor}},[t._v("Save")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("h1",{staticClass:"card-heading"},[this._v("Add Professor:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info",staticStyle:{"padding-right":"80px"}},[e("p",[this._v("Title:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info",staticStyle:{"padding-right":"80px"}},[e("p",[this._v("Name:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("Surname: ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("Location:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info",staticStyle:{"padding-right":"20px"}},[e("p",[e("i",{staticClass:"fa fa-envelope",attrs:{"aria-hidden":"true"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[e("i",{staticClass:"fa fa-phone",attrs:{"aria-hidden":"true"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[e("i",{staticClass:"fa fa-home",attrs:{"aria-hidden":"true"}})])])}]},Ot=[{name:"professorView",path:"professor/view/:id",component:s("VU/8")(It,Tt,!1,null,null,null).exports},{name:"professorEdit",path:"professor/edit/:id",component:s("VU/8")(At,Mt,!1,function(t){s("XlwB")},"data-v-141658e6",null).exports,beforeEnter(t,e,s){_t(3,s)}},{name:"professorAdd",path:"professor/add",component:s("VU/8")(jt,Lt,!1,function(t){s("saf5")},"data-v-0c8ffc38",null).exports,meta:{title:"Add Professor"},beforeEnter(t,e,s){_t(3,s)}}],Vt={mixins:[nt],components:{Placeholder:B},data:()=>({rclass:{pupils:[],professors:[]},alertMessage:""}),watch:{"$route.params.id":function(t){this.rclass={pupils:[],professors:[]},this.fetchClass(t)}},methods:{editClass(){this.$router.push({name:"classEdit",params:{id:this.rclass.id}})},setClass(t){t.success?(this.rclass=t.rclass,this.alertMessage="",document.title="altname"in this.rclass?`${this.rclass.altname} (${this.rclass.name})`:this.rclass.name):this.setPermanentAlert(t.message)},async fetchClass(t){const e=await at("class",t);e?this.setClass(e):x()}},computed:{user(){return this.$store.getters.user},isClassEmpty(){return Object.keys(this.rclass).length<=2},isError(){return this.isClassEmpty&&this.alertMessage.length>0}},beforeRouteEnter:async(t,e,s)=>{const a=await at("class",t.params.id);a?(a.success&&(document.title="altname"in a.rclass?`${a.rclass.altname} (${a.rclass.name})`:a.rclass.name),s(t=>{t.setClass(a)})):x()}},Ft={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container vs-main-con",staticStyle:{"padding-left":"50px"}},[t.isError?s("div",{staticClass:"alert alert-danger",staticStyle:{"margin-left":"-25px"}},[t._v(t._s(t.alertMessage))]):t._e(),t._v(" "),s("div",{staticClass:"row",staticStyle:{"margin-bottom":"2rem"}},[s("h1",{staticClass:"card-heading",staticStyle:{"margin-left":"0"}},[t._v("Class: "+t._s("altname"in t.rclass?t.rclass.altname+" | "+t.rclass.name:t.rclass.name))]),t._v(" "),s("div",{staticClass:"edit-button-con"},[t.user.privilege>=3&&!t.isError?s("button",{staticClass:"btn btn-outline-secondary",attrs:{id:"editClassButton"},on:{click:t.editClass}},[t._v("Edit")]):t._e()])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col",staticStyle:{"align-items":"flex-start"}},[s("p",{staticClass:"view-rel-headline",staticStyle:{"font-size":"2rem","margin-bottom":"1.3rem"}},[t._v("Info: ")]),t._v(" "),s("br"),t._v(" "),s("div",{staticClass:"class-info"},[s("table",[s("tr",[t._m(0),t._v(" "),s("td",[s("p",[t.isError?s("placeholder",{attrs:{min:8,max:12}}):s("span",[t._v(t._s("altname"in t.rclass?t.rclass.altname+" | "+t.rclass.name:t.rclass.name))])],1)])]),t._v(" "),s("tr",[t._m(1),t._v(" "),s("td",[t.isError?s("p",[s("placeholder",{attrs:{min:8,max:12}})],1):s("div",{staticStyle:{display:"inline-block"}},[t.rclass.professors.length>0?s("router-link",{staticClass:"teacher-ref",attrs:{to:{name:"professorView",params:{id:t.rclass.professors[0].id}}}},[t._v(t._s(t.rclass.professors[0].wholeName))]):s("p",[t._v("No teacher yet")])],1)])]),t._v(" "),s("tr",[t._m(2),t._v(" "),s("td",[s("p",[t.isError?s("placeholder",{attrs:{min:4,max:5}}):s("span",[t._v(t._s(t.rclass.room))])],1)])]),t._v(" "),s("tr",[t._m(3),t._v(" "),s("td",[s("p",[t.isError?s("placeholder",{attrs:{min:4,max:7}}):s("span",[t._v(t._s(t.rclass.start))])],1)])]),t._v(" "),s("tr",[t._m(4),t._v(" "),s("td",[s("p",{staticClass:"vs-gray-info"},[t.isError?s("placeholder",{attrs:{min:2,max:4}}):s("span",[t._v(t._s(t.rclass.id))])],1)])])])])]),t._v(" "),s("div",{staticClass:"col main-parent-con"},[s("div",{staticClass:"students-wrapper"},[s("p",{staticClass:"view-rel-headline",staticStyle:{"font-size":"2rem","margin-bottom":"1.3rem"}},[t._v("Students: ")]),t._v(" "),t.isError?s("div",{staticClass:"parents-con",staticStyle:{"margin-left":"50px"}},t._l(12,function(e){return s("div",{key:e},[s("a",{staticClass:"relative-ref custom-button",attrs:{href:"#"}},[s("placeholder",{attrs:{min:6,max:8}}),t._v(" "),s("placeholder",{attrs:{min:6,max:8}})],1),t._v(" "),s("br")])})):s("div",{staticClass:"parents-con",staticStyle:{"margin-left":"50px"}},t._l(t.rclass.pupils,function(e){return s("div",{key:e.id},[s("router-link",{staticClass:"relative-ref custom-button",attrs:{to:{name:"studentView",params:{id:e.id}}}},[t._v(t._s(e.name)+" "+t._s(e.surname))]),t._v(" "),s("br")],1)}))])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info",staticStyle:{"padding-right":"90px"}},[e("p",[this._v("Name:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("Class teacher:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("Room: ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("Start: ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("ID:")])])}]},Ut={methods:{async addPupil(){if(this.newPupilID.length>0){const t=await at("student",this.newPupilID);t?t.success?this.rclass.pupils.unshift({id:t.student.id,name:t.student.name,surname:t.student.surname}):this.setTimoutError(t.message):x()}else this.setTimoutError("The ID field cannot be empty!!!");this.newParentID=""},removePupil(t){this.rclass.pupils=this.rclass.pupils.filter(e=>e.id!==t)}}},Bt={methods:{checkRequiredAndSetError(){return""!==this.rclass.letter&&void 0!==this.rclass.letter&&""!==this.rclass.room&&void 0!==this.rclass.room&&""!==this.rclass.start&&void 0!==this.rclass.start||(this.setTimoutError("Please fill in all required fields."),!1)}}},zt={methods:{parseClassToSend(t){const e=JSON.parse(JSON.stringify(t));return e.pupils=e.pupils.map(t=>t.id),e.professors=e.professors.map(t=>t.id),delete e.altname,delete e.name,e}}},Wt={mixins:[nt,Ut,lt,Bt,zt],data:()=>({newPupilID:void 0,rclass:{pupils:[],professors:[{id:void 0}]},oldRclass:{pupils:[],professors:[]},alertMessage:""}),watch:{"$route.params.id":function(t){this.rclass={pupils:[],professors:[]},this.fetchClass(t)}},methods:{async saveTheEdit(){if(this.checkRequiredAndSetError()){let t,e=this.parseClassToSend(this.rclass);try{t=await rt("class",e,this.$store.getters.user.api_key)}catch(t){return void x()}t.data.success?this.$router.push({name:"classView",params:{id:e.id}}):this.setTimoutError(t.data.message)}},async deleteClass(){let t=await st("class",this.rclass.id,this.$store.getters.user.api_key);t?t.success?this.$router.push({name:"classesList"}):"expired"in t.message&&this.setTimoutError("Your token has expired please logout and then login again."):x()},setClass(t){t.success?(this.rclass=t.rclass,this.oldRclass=JSON.parse(JSON.stringify(t.rclass)),this.alertMessage="",document.title="altname"in this.rclass?`${this.rclass.altname} (${this.rclass.name})`:this.rclass.name):this.setPermanentAlert(t.message)},async fetchClass(t){const e=await at("class",t);e?this.setClass(e):x()}},computed:{user(){return this.$store.getters.user},isClassEmpty(){return Object.keys(this.rclass).length<=2},isError(){return this.isClassEmpty&&this.alertMessage.length>0}},beforeRouteEnter:async(t,e,s)=>{const a=await at("class",t.params.id);a?(a.success&&(document.title="altname"in a.rclass?`${a.rclass.altname} (${a.rclass.name})`:a.rclass.name),s(t=>{t.setClass(a)})):x()}},qt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container vs-main-con",staticStyle:{"padding-left":"50px"}},[t.isError?s("div",{staticClass:"alert alert-danger",staticStyle:{"margin-left":"-25px"}},[t._v(t._s(t.alertMessage))]):t._e(),t._v(" "),t.isClassEmpty?t._e():s("div",[s("div",{staticClass:"row",staticStyle:{"margin-bottom":"2rem"}},[s("h1",{staticClass:"card-heading",staticStyle:{"margin-left":"0"}},[t._v("Class: "+t._s(t.rclass.name))]),t._v(" "),s("div",{staticClass:"edit-button-con"},[t.user.privilege>=3&&!t.isError?s("button",{staticClass:"btn btn-outline-secondary mr-3",attrs:{id:"editClassButton"},on:{click:function(e){t.$router.push({name:"classesList"})}}},[t._v("Cancel")]):t._e(),t._v(" "),s("button",{staticClass:"btn btn-outline-primary mr-3",attrs:{id:"updateStudent"},on:{click:t.saveTheEdit}},[t._v("Save")]),t._v(" "),s("button",{staticClass:"btn btn-outline-danger",attrs:{id:"deleteStudent"},on:{click:t.deleteClass}},[t._v("\n            Delete\n          ")])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col",staticStyle:{"align-items":"flex-start"}},[s("p",{staticClass:"view-rel-headline",staticStyle:{"font-size":"2rem","margin-bottom":"1.3rem"}},[t._v("Info: ")]),t._v(" "),s("br"),t._v(" "),s("div",{staticClass:"class-info"},[s("table",[s("tr",[t._m(0),t._v(" "),s("td",[s("p",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.rclass.letter,expression:"rclass['letter']"}],staticClass:"form-control",class:{"is-invalid":""===t.rclass.letter},attrs:{placeholder:t.oldRclass.letter,type:"text"},domProps:{value:t.rclass.letter},on:{input:function(e){e.target.composing||t.$set(t.rclass,"letter",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(1),t._v(" "),s("td",[s("p",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.rclass.professors[0].id,expression:"rclass.professors[0]['id']"}],staticClass:"form-control",attrs:{placeholder:t.oldRclass.professors>0&&void 0!==t.oldRclass.professors[0]?t.oldRclass.professors[0].id:"",type:"number"},domProps:{value:t.rclass.professors[0].id},on:{input:function(e){e.target.composing||t.$set(t.rclass.professors[0],"id",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(2),t._v(" "),s("td",[s("p",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.rclass.room,expression:"rclass.room"}],staticClass:"form-control",class:{"is-invalid":""===t.rclass.room},attrs:{placeholder:t.oldRclass.room,type:"text"},domProps:{value:t.rclass.room},on:{input:function(e){e.target.composing||t.$set(t.rclass,"room",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(3),t._v(" "),s("td",[s("p",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.rclass.start,expression:"rclass.start"}],staticClass:"form-control",class:{"is-invalid":""===t.rclass.start},attrs:{placeholder:t.oldRclass.start,type:"number"},domProps:{value:t.rclass.start},on:{input:function(e){e.target.composing||t.$set(t.rclass,"start",e.target.value)}}})])])])])])]),t._v(" "),s("div",{staticClass:"col main-parent-con"},[s("div",{staticClass:"students-wrapper"},[s("p",{staticClass:"view-rel-headline",staticStyle:{"font-size":"2rem","margin-bottom":"1.3rem"}},[t._v("Students: ")]),t._v(" "),s("div",{staticClass:"col-sm-6",staticStyle:{"margin-left":"50px","margin-bottom":"20px"},attrs:{id:"addParentDiv"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newPupilID,expression:"newPupilID"}],staticClass:"form-control",attrs:{id:"newChildIdInput",placeholder:"Pupil ID",type:"number"},domProps:{value:t.newPupilID},on:{input:function(e){e.target.composing||(t.newPupilID=e.target.value)}}}),t._v(" "),s("p",{attrs:{id:"add-parent-button"}},[s("i",{staticClass:"fa fa-plus-circle",attrs:{"aria-hidden":"true"},on:{click:t.addPupil}})])]),t._v(" "),s("div",{staticClass:"parents-con",staticStyle:{"margin-left":"50px"}},t._l(t.rclass.pupils,function(e){return s("div",{key:e.id},[s("a",{staticClass:"relative-ref custom-button"},[t._v(t._s(e.name)+" "+t._s(e.surname))]),t._v(" "),s("i",{staticClass:"delete fa fa-times",attrs:{"aria-hidden":"true"},on:{click:function(s){t.removePupil(e.id)}}}),t._v(" "),s("br")])}))])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info",staticStyle:{"padding-right":"90px"}},[e("p",[this._v("Letter:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("Class Teacher ID:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("Room: ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("Start: ")])])}]},Jt={mixins:[nt,Ut,lt,Bt,zt],data:()=>({newPupilID:void 0,rclass:{pupils:[],professors:[{id:void 0}]},alertMessage:""}),methods:{async uploadTheClass(){if(this.checkRequiredAndSetError()){let t,e=this.parseClassToSend(this.rclass);try{t=await it("class",e,this.$store.getters.user.api_key)}catch(t){return void x()}t.data.success?this.$router.push({name:"classView",params:{id:t.data.classID}}):this.setTimoutError(t.data.message)}}},computed:{user(){return this.$store.getters.user},isError(){return this.alertMessage.length>0}}},Ht={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container vs-main-con",staticStyle:{"padding-left":"50px"}},[t.isError?s("div",{staticClass:"alert alert-danger",staticStyle:{"margin-left":"-25px"}},[t._v(t._s(t.alertMessage))]):t._e(),t._v(" "),s("div",[s("div",{staticClass:"row",staticStyle:{"margin-bottom":"2rem"}},[s("h1",{staticClass:"card-heading",staticStyle:{"margin-left":"0"}},[t._v("Add Class")]),t._v(" "),s("div",{staticClass:"edit-button-con"},[s("button",{staticClass:"btn btn-outline-primary mr-3",attrs:{id:"updateStudent"},on:{click:t.uploadTheClass}},[t._v("Save")])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col",staticStyle:{"align-items":"flex-start"}},[s("p",{staticClass:"view-rel-headline",staticStyle:{"font-size":"2rem","margin-bottom":"1.3rem"}},[t._v("Info: ")]),t._v(" "),s("br"),t._v(" "),s("div",{staticClass:"class-info"},[s("table",[s("tr",[t._m(0),t._v(" "),s("td",[s("p",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.rclass.letter,expression:"rclass['letter']"}],staticClass:"form-control",class:{"is-invalid":""===t.rclass.letter||void 0===t.rclass.letter},attrs:{type:"text"},domProps:{value:t.rclass.letter},on:{input:function(e){e.target.composing||t.$set(t.rclass,"letter",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(1),t._v(" "),s("td",[s("p",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.rclass.professors[0].id,expression:"rclass.professors[0]['id']"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.rclass.professors[0].id},on:{input:function(e){e.target.composing||t.$set(t.rclass.professors[0],"id",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(2),t._v(" "),s("td",[s("p",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.rclass.room,expression:"rclass.room"}],staticClass:"form-control",class:{"is-invalid":""===t.rclass.room||void 0===t.rclass.room},attrs:{type:"text"},domProps:{value:t.rclass.room},on:{input:function(e){e.target.composing||t.$set(t.rclass,"room",e.target.value)}}})])])]),t._v(" "),s("tr",[t._m(3),t._v(" "),s("td",[s("p",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.rclass.start,expression:"rclass.start"}],staticClass:"form-control",class:{"is-invalid":""===t.rclass.start||void 0===t.rclass.start},attrs:{type:"number"},domProps:{value:t.rclass.start},on:{input:function(e){e.target.composing||t.$set(t.rclass,"start",e.target.value)}}})])])])])])]),t._v(" "),s("div",{staticClass:"col main-parent-con"},[s("div",{staticClass:"students-wrapper"},[s("p",{staticClass:"view-rel-headline",staticStyle:{"font-size":"2rem","margin-bottom":"1.3rem"}},[t._v("Students: ")]),t._v(" "),s("div",{staticClass:"col-sm-6",staticStyle:{"margin-left":"50px","margin-bottom":"20px"},attrs:{id:"addParentDiv"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newPupilID,expression:"newPupilID"}],staticClass:"form-control",attrs:{id:"newChildIdInput",placeholder:"Pupil ID",type:"number"},domProps:{value:t.newPupilID},on:{input:function(e){e.target.composing||(t.newPupilID=e.target.value)}},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.addPupil(e)}}}),t._v(" "),s("p",{attrs:{id:"add-parent-button"}},[s("i",{staticClass:"fa fa-plus-circle",attrs:{"aria-hidden":"true"},on:{click:t.addPupil}})])]),t._v(" "),s("div",{staticClass:"parents-con",staticStyle:{"margin-left":"50px"}},t._l(t.rclass.pupils,function(e){return s("div",{key:e.id},[s("a",{staticClass:"relative-ref custom-button"},[t._v(t._s(e.name)+" "+t._s(e.surname))]),t._v(" "),s("i",{staticClass:"delete fa fa-times",attrs:{"aria-hidden":"true"},on:{click:function(s){t.removePupil(e.id)}}}),t._v(" "),s("br")])}))])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info",staticStyle:{"padding-right":"90px"}},[e("p",[this._v("Letter:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("Class Teacher ID:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("Room: ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"vs-table-info"},[e("p",[this._v("Start: ")])])}]},Yt=[{name:"classView",path:"class/view/:id",component:s("VU/8")(Vt,Ft,!1,function(t){s("blIo")},"data-v-6cdcb7a1",null).exports},{name:"classEdit",path:"class/edit/:id",component:s("VU/8")(Wt,qt,!1,function(t){s("oOVp")},"data-v-eef43042",null).exports,beforeEnter(t,e,s){_t(3,s)}},{name:"classAdd",path:"class/add",component:s("VU/8")(Jt,Ht,!1,function(t){s("6LPJ")},"data-v-b0ba0f10",null).exports,meta:{title:"Add Class"},beforeEnter(t,e,s){_t(3,s)}}],Qt=s("P/Ud"),Xt=s.n(Qt),Gt={computed:{errorMessage(){const t=Xt.a[this.$route.params.which];return void 0===t?"Would you please stop messing with everything you can lay your hands on?!":t}},beforeRouteEnter(t,e,s){s(e=>{document.title="Error | "+t.params.which})}},Kt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container",staticStyle:{"margin-top":"80px"}},[e("div",{staticClass:"alert alert-danger text-center"},[this._v(this._s(this.errorMessage))])])},staticRenderFns:[]},Zt={path:"/",component:j,name:"mainListDisplay",children:[...tt,...gt,...kt,...Ot,...Yt,{name:"errorDisplay",path:"error/:which",component:s("VU/8")(Gt,Kt,!1,function(t){s("9CJP")},"data-v-6b6c704e",null).exports}]},te={created(){document.title="Login"},data:()=>({username:"",password:""}),methods:{showError(t){const e=document.getElementById("errorCon");e.textContent=t,e.style.display="block",setTimeout(()=>{e.style.display="none"},5e3)},login(){this.username&&this.password?this.axios({url:E+"/user",method:"post",data:{username:this.username,password:this.password},headers:{Accept:"application/json","Content-Type":"application/json"},withCredentials:!0}).then(t=>{t.data.success?(this.$store.commit("setUser",t.data.user),void 0!==this.$route.query.next?this.$router.push(this.$route.query.next):this.$router.push({name:"studentsList"})):this.showError(t.data.message)}).catch(t=>{this.showError(t)}):this.showError("Please fill in all the fields!")}}},ee={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"wrapper"}},[s("div",{staticClass:"container"},[s("div",{staticClass:"card card-container vcenter",staticStyle:{width:"auto","text-align":"center"}},[s("img",{staticClass:"profile-img-card",attrs:{id:"profile-img",src:"/static/images/logo.png"}}),t._v(" "),s("div",[s("div",{staticClass:"alert alert-danger",staticStyle:{display:"none"},attrs:{id:"errorCon"}}),t._v(" "),s("form",{staticClass:"form-signin",on:{submit:function(e){e.preventDefault(),t.login(e)}}},[s("span",{staticClass:"reauth-email",attrs:{id:"reauth-email"}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",name:"username",id:"inputUsername",placeholder:"Username",autofocus:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{name:"password",type:"password",id:"inputPassword",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),s("button",{staticClass:"btn btn-lg btn-primary btn-block btn-signin",attrs:{type:"submit"}},[t._v("Sign in")])])])])])])},staticRenderFns:[]},se={path:"/login",component:s("VU/8")(te,ee,!1,function(t){s("Ynfz")},"data-v-7390f15c",null).exports,name:"LoginRoute",meta:{title:"Login"},beforeEnter(t,e,s){0!==Object.keys(N.state.user).length?s({name:"mainDisplay"}):s()}},ae={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h1",{staticStyle:{"text-align":"center"}},[this._v("404 - Not Found")])])}]},re=s("VU/8")(null,ae,!1,null,null,null).exports;n.a.use(m.a);var ie=new m.a({mode:"history",routes:[{path:"/",beforeEnter(t,e,s){s({name:"studentsList"})}},se,Zt,{path:"*",component:re}]});n.a.config.productionTip=!1,n.a.use(d.a,o.a),n.a.filter("reverse",t=>t.slice().reverse()),ie.beforeEach(async(t,e,s)=>{if(Object.keys(N.getters.user).length>0||"LoginRoute"===t.name)document.title=t.meta.title,s();else{const e=await(async t=>{try{return(await o()({url:`${t}/user/logged`,method:"post",withCredentials:!0,headers:{"Content-Type":"application/json"}})).data}catch(t){return!1}})(E);e?e.isLoggedIn?(N.commit("setUser",e.user),s()):s({name:"LoginRoute",query:{next:t.fullPath}}):s({name:"errorDisplay",params:{which:"serverError"}})}}),new n.a({el:"#app",store:N,router:ie,render:t=>t(p)})},"P/Ud":function(t,e){t.exports={noPermissionToEdit:"We are sorry but you don't have a permission to edit, for more information please read the documentation.",serverError:"We apologize, there was a problem reaching out to the server. Check your connection"}},Wkgh:function(t,e){},XlwB:function(t,e){},Ynfz:function(t,e){},blIo:function(t,e){},kBDf:function(t,e){},lioD:function(t,e){},mpNz:function(t,e){},oOVp:function(t,e){},r4Ti:function(t,e){},s43u:function(t,e){},sFzF:function(t,e){!function(t){t.floatThead=t.floatThead||{},t.floatThead.defaults={cellTag:null,headerCellSelector:"tr:first>th:visible",zIndex:1001,debounceResizeMs:10,useAbsolutePositioning:!0,scrollingTop:0,scrollingBottom:0,scrollContainer:()=>t([]),getSizingRow:t=>t.find("tbody tr:visible:first>*"),floatTableClass:"floatThead-table",floatWrapperClass:"floatThead-wrapper",floatContainerClass:"floatThead-container",copyTableClass:!0,debug:!1};var e=window._,s=function(){for(var t=3,e=document.createElement("b"),s=e.all||[];t=1+t,e.innerHTML="\x3c!--[if gt IE "+t+"]><i><![endif]--\x3e",s[0];);return t>4?t:document.documentMode}(),a=null,r=t(window),i=0;t.fn.floatThead=function(n){if(n=n||{},!e&&!(e=window._||t.floatThead._))throw new Error("jquery.floatThead-slim.js requires underscore. You should use the non-lite version since you do not have underscore.");if(s<8)return this;if(null==a&&(a=function(){if(s)return!1;let e=t("<table><colgroup><col></colgroup><tbody><tr><td style='width:10px'></td></tbody></table>");t("body").append(e);let a=e.find("col").width();return e.remove(),0==a}())&&(document.createElement("fthtr"),document.createElement("fthtd"),document.createElement("fthfoot")),e.isString(n)){let s=n,a=this;return this.filter("table").each(function(){let r=t(this).data("floatThead-attached");if(r&&e.isFunction(r[s])){let t=r[s]();void 0!==t&&(a=t)}}),a}let l=t.extend({},t.floatThead.defaults||{},n);return t.each(n,s=>{s in t.floatThead.defaults||!l.debug||function(t){window.console&&window.console&&window.console.log&&window.console.log(t)}("jQuery.floatThead: used ["+s+"] key to init plugin, but that param is not an option for the plugin. Valid options are: "+e.keys(t.floatThead.defaults).join(", "))}),this.filter(":not(."+l.floatTableClass+")").each(function(){function n(t){return`${t}.fth-${_}.floatTHead`}function o(){let e=0;C.find("tr:visible").each(function(){e+=t(this).outerHeight(!0)}),W.outerHeight(e),q.outerHeight(e)}function c(){y=(e.isFunction(l.scrollingTop)?l.scrollingTop(g):l.scrollingTop)||0,w=(e.isFunction(l.scrollingBottom)?l.scrollingBottom(g):l.scrollingBottom)||0}function d(){if(!x){if(x=!0,k){let t=g.width();t>M.width()&&g.css("minWidth",t)}g.css(Q),L.css(Q),L.append(C),b.before(z),o()}}function u(){x&&(x=!1,k&&g.width(G),z.detach(),g.prepend(C),g.css(X),L.css(X))}function p(){let e,r=function(){let e,s;if(F)e=V.find("col").length;else{let a;a=null==l.cellTag&&l.headerCellSelector?l.headerCellSelector:"tr:first>"+l.cellTag,s=C.find(a),e=0,s.each(function(){e+=parseInt(t(this).attr("colspan")||1,10)})}if(e!=S){S=e;for(var r=[],i=[],n=[],o=0;e>o;o++)r.push('<th class="floatThead-col"/>'),i.push("<col/>"),n.push("<fthtd style='display:table-cell;height:0;width:auto;'/>");i=i.join(""),r=r.join(""),a&&(n=n.join(""),U.html(n),Y=U.find("fthtd")),W.html(r),q=W.find("th"),F||V.html(i),J=V.find("col"),O.html(i),H=O.find("col")}return e}();return function(){let t=function(t,e,s,r){return a?s:r?l.getSizingRow(t,e,s):e}(g,J,Y,s);if(t.length==r&&r>0){if(!F)for(e=0;r>e;e++)J.eq(e).css("width","");u();let s=[];for(e=0;r>e;e++)s[e]=t.get(e).offsetWidth;for(e=0;r>e;e++)H.eq(e).width(s[e]),J.eq(e).width(s[e]);d()}else L.append(C),g.css(X),L.css(X),o()}}function m(t){let e=P.css("border-"+t+"-width"),s=0;return e&&~e.indexOf("px")&&(s=parseInt(e,10)),s}function v(){let t,e=P.scrollTop(),s=0,i=T?I.outerHeight(!0):0,n=N?i:-i,l=B.height(),o=g.offset(),c=0;if(R){let t=P.offset();s=o.top-t.top+e,T&&N&&(s+=i),s-=m("top"),c=m("left")}else t=o.top-y-l+w+E.horizontal;let p=r.scrollTop(),v=r.scrollLeft(),h=P.scrollLeft();return e=P.scrollTop(),function(m){if("windowScroll"==m?(p=r.scrollTop(),v=r.scrollLeft()):"containerScroll"==m?(e=P.scrollTop(),h=P.scrollLeft()):"init"!=m&&(p=r.scrollTop(),v=r.scrollLeft(),e=P.scrollTop(),h=P.scrollLeft()),!a||!(p<0||v<0)){if(j)!function(t){k!=t&&(k=t,B.css({position:k?"absolute":"fixed"}))}("windowScrollDone"==m);else if("windowScrollDone"==m)return null;o=g.offset(),T&&N&&(o.top+=i);let a,r,f=g.outerHeight();if(R&&k){if(s>=e){let t=s-e;a=t>0?t:0}else a=A?0:e;r=c}else!R&&k?(p>t+f+n?a=f-l+n:o.top>p+y?(a=0,u()):(a=y+p-o.top+s+(N?i:0),d()),r=0):R&&!k?(s>e||e-s>f?(a=o.top-p,u()):(a=o.top+e-p-s,d()),r=o.left+h-v):R||k||(p>t+f+n?a=f+y-p+t+n:o.top>p+y?(a=o.top-p,d()):a=y,r=o.left-v);return{top:a,left:r}}}}function h(){let t=null,e=null,s=null;return function(a,r,i){null==a||t==a.top&&e==a.left||(B.css({top:a.top,left:a.left}),t=a.top,e=a.left),r&&function(){let t=g.outerWidth(),e=P.width()||t;if(B.width(e-E.vertical),R){let s=100*t/(e-E.vertical);L.css("width",`${s}%`)}else L.outerWidth(t)}(),i&&o();let n=P.scrollLeft();k&&s==n||(B.scrollLeft(n),s=n)}}function f(){if(P.length){let t=P.width(),e=P.height(),s=g.height(),a=g.width(),r=a>t?$:0,i=s>e?$:0;E.horizontal=a>t-i?$:0,E.vertical=s>e-r?$:0}}var _=i,g=t(this);if(g.data("floatThead-attached"))return!0;if(!g.is("table"))throw new Error('jQuery.floatThead must be run on a table element. ex: $("table").floatThead();');var C=g.find("thead:first"),b=g.find("tbody:first");if(0==C.length)throw new Error("jQuery.floatThead must be run on a table that contains a <thead> element");var y,w,x=!1,E={vertical:0,horizontal:0},$=function(){let e=t('<div style="width:50px;height:50px;overflow-y:scroll;position:absolute;top:-200px;left:-200px;"><div style="height:100px;width:100%"></div>');t("body").append(e);let s=e.innerWidth(),a=t("div",e).innerWidth();return e.remove(),s-a}(),S=0,P=l.scrollContainer(g)||t([]),k=l.useAbsolutePositioning;null==k&&(k=l.scrollContainer(g).length);var I=g.find("caption"),T=1==I.length;if(T)var N="top"===(I.css("caption-side")||I.attr("align")||"top");var D=t('<fthfoot style="display:table-footer-group;"/>'),R=P.length>0,A=!1,M=t([]),j=s<=9&&!R&&k,L=t("<table/>"),O=t("<colgroup/>"),V=g.find("colgroup:first"),F=!0;0==V.length&&(V=t("<colgroup/>"),F=!1);var U=t('<fthrow style="display:table-row;height:0;"/>'),B=t('<div style="overflow: hidden;"></div>'),z=t("<thead/>"),W=t('<tr class="size-row"/>'),q=t([]),J=t([]),H=t([]),Y=t([]);if(z.append(W),g.prepend(V),a&&(D.append(U),g.append(D)),L.append(O),B.append(L),l.copyTableClass&&L.attr("class",g.attr("class")),L.attr({cellpadding:g.attr("cellpadding"),cellspacing:g.attr("cellspacing"),border:g.attr("border")}),L.css({borderCollapse:g.css("borderCollapse"),border:g.css("border")}),L.addClass(l.floatTableClass).css("margin",0),k){let t=function(t,e){let s=t.css("position");if(!("relative"==s||"absolute"==s)||e){let e={paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight")};B.css(e),t=t.wrap(`<div class='${l.floatWrapperClass}' style='position: relative; clear:both;'></div>`).parent(),A=!0}return t};R?(M=t(P,!0)).append(B):(M=t(g),g.after(B))}else g.after(B);B.css({position:k?"absolute":"fixed",marginTop:0,top:k?0:"auto",zIndex:l.zIndex}),B.addClass(l.floatContainerClass),c();var Q={"table-layout":"fixed"},X={"table-layout":g.css("tableLayout")||"auto"},G=g[0].style.width||"";f();let K,Z=function(){(K=p())()};Z();let tt=v(),et=h();et(tt("init"),!0);let st=e.debounce(()=>{et(tt("windowScrollDone"),!1)},300),at=function(){et(tt("windowScroll"),!1),st()},rt=function(){et(tt("containerScroll"),!1)},it=e.debounce(()=>{f(),c(),Z(),tt=v(),et(tt("reflow"),!0)},1);R?k?P.on(n("scroll"),rt):(P.on(n("scroll"),rt),r.on(n("scroll"),at)):r.on(n("scroll"),at),r.on(n("load"),it),function(t,a,i){if(8==s){let s=r.width(),n=e.debounce(()=>{let t=r.width();s!=t&&(s=t,i())},t);r.on(a,n)}else r.on(a,e.debounce(i,t))}(l.debounceResizeMs,n("resize"),function(){c(),f(),Z(),tt=v(),(et=h())(tt("resize"),!0,!0)}),g.on("reflow",it),function(t){if(t.dataTableSettings)for(var e=0;e<t.dataTableSettings.length;e++){var s=t.dataTableSettings[e].nTable;if(t[0]==s)return!0}return!1}(g)&&g.on("filter",it).on("sort",it).on("page",it),g.data("floatThead-attached",{destroy(){var t=".fth-"+_;u(),g.css(X),V.remove(),a&&D.remove(),z.parent().length&&z.replaceWith(C),g.off("reflow"),P.off(t),A&&(P.length?P.unwrap():g.unwrap()),k&&g.css("minWidth",""),B.remove(),g.data("floatThead-attached",!1),r.off(t)},reflow(){it()},setHeaderHeight(){o()},getFloatContainer:()=>B,getRowGroups:()=>x?B.find("thead").add(g.find("tbody,tfoot")):g.find("thead,tbody,tfoot")}),i++}),this}}(jQuery),function(t){t.floatThead=t.floatThead||{},t.floatThead._=window._||function(){var e={},s=Object.prototype.hasOwnProperty;return e.has=function(t,e){return s.call(t,e)},e.keys=function(t){if(t!==Object(t))throw new TypeError("Invalid object");var s=[];for(var a in t)e.has(t,a)&&s.push(a);return s},t.each(["Arguments","Function","String","Number","Date","RegExp"],function(){var t=this;e["is"+t]=function(e){return Object.prototype.toString.call(e)=="[object "+t+"]"}}),e.debounce=function(t,e,s){var a,r,i,n,l;return function(){i=this,r=arguments,n=new Date;var o=function(){var c=new Date-n;e>c?a=setTimeout(o,e-c):(a=null,s||(l=t.apply(i,r)))},c=s&&!a;return a||(a=setTimeout(o,e)),c&&(l=t.apply(i,r)),l}},e}()}(jQuery)},saf5:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.083a773dbd21eb3de517.js.map